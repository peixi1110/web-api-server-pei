import{r as l,v as X,z as S,bk as nt,bb as Zt,f as I,x as j,A as Ie,K as rt,I as q,y as Ne,aM as it,bl as Ut,bm as De,ao as ze,bn as Vt,o as Gt,D as Xt,B as oe,bo as qt,ag as Te,bp as Yt,bf as at,bq as st,g as kt,br as Kt,u as $,a as Jt,ap as Qt,m as eo,C as he,e as lt,ai as to,aj as oo,bs as no,bg as me,bt as ro,au as io,aV as ao,bu as ct,bv as so,be as lo,bw as co,bx as uo,av as fo,by as mo,bz as ho,bA as po,bB as vo,aW as go,q as Co,b0 as Q,j as bo,b4 as yo,i as xo,k as N,l as wo,a$ as So,b6 as Eo,aQ as je,bC as Po,bD as Ro,b7 as Ae,n as Oo}from"./index-CmMWvdQH.js";import{i as $o,U as Mo,u as No}from"./pictures-BwBMytif.js";import{w as To,B as _o}from"./Breadcrumb-CkaaNLCX.js";import{u as Io,p as Be}from"./useClosable-M3eqKiUl.js";import"./useForceUpdate-CF4ixbCY.js";import"./DeleteOutlined-CbMMG6LW.js";function Do(){const[t,n]=l.useState([]),e=l.useCallback(o=>(n(r=>[].concat(X(r),[o])),()=>{n(r=>r.filter(i=>i!==o))}),[]);return[t,e]}const ne=S.createContext({}),{Provider:dt}=ne,Le=()=>{const{autoFocusButton:t,cancelButtonProps:n,cancelTextLocale:e,isSilent:o,mergedOkCancel:r,rootPrefixCls:i,close:c,onCancel:a,onConfirm:s}=l.useContext(ne);return r?S.createElement(nt,{isSilent:o,actionFn:a,close:function(){c==null||c.apply(void 0,arguments),s==null||s(!1)},autoFocus:t==="cancel",buttonProps:n,prefixCls:`${i}-btn`},e):null},Fe=()=>{const{autoFocusButton:t,close:n,isSilent:e,okButtonProps:o,rootPrefixCls:r,okTextLocale:i,okType:c,onConfirm:a,onOk:s}=l.useContext(ne);return S.createElement(nt,{isSilent:e,type:c||"primary",actionFn:s,close:function(){n==null||n.apply(void 0,arguments),a==null||a(!0)},autoFocus:t==="ok",buttonProps:o,prefixCls:`${r}-btn`},i)};var ut=l.createContext({});function We(t,n,e){var o=n;return!o&&e&&(o="".concat(t,"-").concat(e)),o}function He(t,n){var e=t["page".concat(n?"Y":"X","Offset")],o="scroll".concat(n?"Top":"Left");if(typeof e!="number"){var r=t.document;e=r.documentElement[o],typeof e!="number"&&(e=r.body[o])}return e}function zo(t){var n=t.getBoundingClientRect(),e={left:n.left,top:n.top},o=t.ownerDocument,r=o.defaultView||o.parentWindow;return e.left+=He(r),e.top+=He(r,!0),e}const jo=l.memo(function(t){var n=t.children;return n},function(t,n){var e=n.shouldUpdate;return!e});var Ze={width:0,height:0,overflow:"hidden",outline:"none"},Ao={outline:"none"},ft=S.forwardRef(function(t,n){var e=t.prefixCls,o=t.className,r=t.style,i=t.title,c=t.ariaId,a=t.footer,s=t.closable,d=t.closeIcon,u=t.onClose,f=t.children,m=t.bodyStyle,p=t.bodyProps,g=t.modalRender,h=t.onMouseDown,v=t.onMouseUp,b=t.holderRef,C=t.visible,R=t.forceRender,x=t.width,O=t.height,E=t.classNames,P=t.styles,y=S.useContext(ut),w=y.panel,M=Zt(b,w),A=l.useRef(),L=l.useRef(),F=l.useRef();S.useImperativeHandle(n,function(){return{focus:function(){var D;(D=F.current)===null||D===void 0||D.focus({preventScroll:!0})},changeActive:function(D){var ve=document,ie=ve.activeElement;D&&ie===L.current?A.current.focus({preventScroll:!0}):!D&&ie===A.current&&L.current.focus({preventScroll:!0})}}});var T={};x!==void 0&&(T.width=x),O!==void 0&&(T.height=O);var H=a?S.createElement("div",{className:I("".concat(e,"-footer"),E==null?void 0:E.footer),style:j({},P==null?void 0:P.footer)},a):null,V=i?S.createElement("div",{className:I("".concat(e,"-header"),E==null?void 0:E.header),style:j({},P==null?void 0:P.header)},S.createElement("div",{className:"".concat(e,"-title"),id:c},i)):null,U=l.useMemo(function(){return Ie(s)==="object"&&s!==null?s:s?{closeIcon:d??S.createElement("span",{className:"".concat(e,"-close-x")})}:{}},[s,d,e]),Y=rt(U,!0),te=Ie(s)==="object"&&s.disabled,J=s?S.createElement("button",q({type:"button",onClick:u,"aria-label":"Close"},Y,{className:"".concat(e,"-close"),disabled:te}),U.closeIcon):null,G=S.createElement("div",{className:I("".concat(e,"-content"),E==null?void 0:E.content),style:P==null?void 0:P.content},J,V,S.createElement("div",q({className:I("".concat(e,"-body"),E==null?void 0:E.body),style:j(j({},m),P==null?void 0:P.body)},p),f),H);return S.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":i?c:null,"aria-modal":"true",ref:M,style:j(j({},r),T),className:I(e,o),onMouseDown:h,onMouseUp:v},S.createElement("div",{tabIndex:0,ref:A,style:Ze,"aria-hidden":"true"}),S.createElement("div",{ref:F,tabIndex:-1,style:Ao},S.createElement(jo,{shouldUpdate:C||R},g?g(G):G)),S.createElement("div",{tabIndex:0,ref:L,style:Ze,"aria-hidden":"true"}))}),mt=l.forwardRef(function(t,n){var e=t.prefixCls,o=t.title,r=t.style,i=t.className,c=t.visible,a=t.forceRender,s=t.destroyOnClose,d=t.motionName,u=t.ariaId,f=t.onVisibleChanged,m=t.mousePosition,p=l.useRef(),g=l.useState(),h=Ne(g,2),v=h[0],b=h[1],C={};v&&(C.transformOrigin=v);function R(){var x=zo(p.current);b(m&&(m.x||m.y)?"".concat(m.x-x.left,"px ").concat(m.y-x.top,"px"):"")}return l.createElement(it,{visible:c,onVisibleChanged:f,onAppearPrepare:R,onEnterPrepare:R,forceRender:a,motionName:d,removeOnLeave:s,ref:p},function(x,O){var E=x.className,P=x.style;return l.createElement(ft,q({},t,{ref:n,title:o,ariaId:u,prefixCls:e,holderRef:O,style:j(j(j({},P),r),C),className:I(i,E)}))})});mt.displayName="Content";var Bo=function(n){var e=n.prefixCls,o=n.style,r=n.visible,i=n.maskProps,c=n.motionName,a=n.className;return l.createElement(it,{key:"mask",visible:r,motionName:c,leavedClassName:"".concat(e,"-mask-hidden")},function(s,d){var u=s.className,f=s.style;return l.createElement("div",q({ref:d,style:j(j({},f),o),className:I("".concat(e,"-mask"),u,a)},i))})},Lo=function(n){var e=n.prefixCls,o=e===void 0?"rc-dialog":e,r=n.zIndex,i=n.visible,c=i===void 0?!1:i,a=n.keyboard,s=a===void 0?!0:a,d=n.focusTriggerAfterClose,u=d===void 0?!0:d,f=n.wrapStyle,m=n.wrapClassName,p=n.wrapProps,g=n.onClose,h=n.afterOpenChange,v=n.afterClose,b=n.transitionName,C=n.animation,R=n.closable,x=R===void 0?!0:R,O=n.mask,E=O===void 0?!0:O,P=n.maskTransitionName,y=n.maskAnimation,w=n.maskClosable,M=w===void 0?!0:w,A=n.maskStyle,L=n.maskProps,F=n.rootClassName,T=n.classNames,H=n.styles,V=l.useRef(),U=l.useRef(),Y=l.useRef(),te=l.useState(c),J=Ne(te,2),G=J[0],Z=J[1],D=Ut();function ve(){De(U.current,document.activeElement)||(V.current=document.activeElement)}function ie(){if(!De(U.current,document.activeElement)){var _;(_=Y.current)===null||_===void 0||_.focus()}}function Bt(_){if(_)ie();else{if(Z(!1),E&&V.current&&u){try{V.current.focus({preventScroll:!0})}catch{}V.current=null}G&&(v==null||v())}h==null||h(_)}function ge(_){g==null||g(_)}var ae=l.useRef(!1),Ce=l.useRef(),Lt=function(){clearTimeout(Ce.current),ae.current=!0},Ft=function(){Ce.current=setTimeout(function(){ae.current=!1})},_e=null;M&&(_e=function(be){ae.current?ae.current=!1:U.current===be.target&&ge(be)});function Wt(_){if(s&&_.keyCode===ze.ESC){_.stopPropagation(),ge(_);return}c&&_.keyCode===ze.TAB&&Y.current.changeActive(!_.shiftKey)}l.useEffect(function(){c&&(Z(!0),ve())},[c]),l.useEffect(function(){return function(){clearTimeout(Ce.current)}},[]);var Ht=j(j(j({zIndex:r},f),H==null?void 0:H.wrapper),{},{display:G?null:"none"});return l.createElement("div",q({className:I("".concat(o,"-root"),F)},rt(n,{data:!0})),l.createElement(Bo,{prefixCls:o,visible:E&&c,motionName:We(o,P,y),style:j(j({zIndex:r},A),H==null?void 0:H.mask),maskProps:L,className:T==null?void 0:T.mask}),l.createElement("div",q({tabIndex:-1,onKeyDown:Wt,className:I("".concat(o,"-wrap"),m,T==null?void 0:T.wrapper),ref:U,onClick:_e,style:Ht},p),l.createElement(mt,q({},n,{onMouseDown:Lt,onMouseUp:Ft,ref:Y,closable:x,ariaId:D,prefixCls:o,visible:c&&G,onClose:ge,onVisibleChanged:Bt,motionName:We(o,b,C)}))))},ht=function(n){var e=n.visible,o=n.getContainer,r=n.forceRender,i=n.destroyOnClose,c=i===void 0?!1:i,a=n.afterClose,s=n.panelRef,d=l.useState(e),u=Ne(d,2),f=u[0],m=u[1],p=l.useMemo(function(){return{panel:s}},[s]);return l.useEffect(function(){e&&m(!0)},[e]),!r&&c&&!f?null:l.createElement(ut.Provider,{value:p},l.createElement(Vt,{open:e||r||f,autoDestroy:!1,getContainer:o,autoLock:e||f},l.createElement(Lo,q({},n,{destroyOnClose:c,afterClose:function(){a==null||a(),m(!1)}}))))};ht.displayName="Dialog";const Fo=()=>Gt()&&window.document.documentElement;function Ue(){}const Wo=l.createContext({add:Ue,remove:Ue});function Ho(t){const n=l.useContext(Wo),e=l.useRef();return Xt(r=>{if(r){const i=t?r.querySelector(t):r;n.add(i),e.current=i}else n.remove(e.current)})}const Ve=()=>{const{cancelButtonProps:t,cancelTextLocale:n,onCancel:e}=l.useContext(ne);return S.createElement(oe,Object.assign({onClick:e},t),n)},Ge=()=>{const{confirmLoading:t,okButtonProps:n,okType:e,okTextLocale:o,onOk:r}=l.useContext(ne);return S.createElement(oe,Object.assign({},qt(e),{loading:t,onClick:r},n),o)};function pt(t,n){return S.createElement("span",{className:`${t}-close-x`},n||S.createElement(at,{className:`${t}-close-icon`}))}const vt=t=>{const{okText:n,okType:e="primary",cancelText:o,confirmLoading:r,onOk:i,onCancel:c,okButtonProps:a,cancelButtonProps:s,footer:d}=t,[u]=Te("Modal",st()),f=n||(u==null?void 0:u.okText),m=o||(u==null?void 0:u.cancelText),p={confirmLoading:r,okButtonProps:a,cancelButtonProps:s,okTextLocale:f,cancelTextLocale:m,okType:e,onOk:i,onCancel:c},g=S.useMemo(()=>p,X(Object.values(p)));let h;return typeof d=="function"||typeof d>"u"?(h=S.createElement(S.Fragment,null,S.createElement(Ve,null),S.createElement(Ge,null)),typeof d=="function"&&(h=d(h,{OkBtn:Ge,CancelBtn:Ve})),h=S.createElement(dt,{value:g},h)):h=d,S.createElement(Yt,{disabled:!1},h)};function Xe(t){return{position:t,inset:0}}const Zo=t=>{const{componentCls:n,antCls:e}=t;return[{[`${n}-root`]:{[`${n}${e}-zoom-enter, ${n}${e}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:t.motionDurationSlow,userSelect:"none"},[`${n}${e}-zoom-leave ${n}-content`]:{pointerEvents:"none"},[`${n}-mask`]:Object.assign(Object.assign({},Xe("fixed")),{zIndex:t.zIndexPopupBase,height:"100%",backgroundColor:t.colorBgMask,pointerEvents:"none",[`${n}-hidden`]:{display:"none"}}),[`${n}-wrap`]:Object.assign(Object.assign({},Xe("fixed")),{zIndex:t.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${n}-root`]:$o(t)}]},Uo=t=>{const{componentCls:n}=t;return[{[`${n}-root`]:{[`${n}-wrap-rtl`]:{direction:"rtl"},[`${n}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[n]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${t.screenSMMax}px)`]:{[n]:{maxWidth:"calc(100vw - 16px)",margin:`${$(t.marginXS)} auto`},[`${n}-centered`]:{[n]:{flex:1}}}}},{[n]:Object.assign(Object.assign({},Jt(t)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${$(t.calc(t.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:t.paddingLG,[`${n}-title`]:{margin:0,color:t.titleColor,fontWeight:t.fontWeightStrong,fontSize:t.titleFontSize,lineHeight:t.titleLineHeight,wordWrap:"break-word"},[`${n}-content`]:{position:"relative",backgroundColor:t.contentBg,backgroundClip:"padding-box",border:0,borderRadius:t.borderRadiusLG,boxShadow:t.boxShadow,pointerEvents:"auto",padding:t.contentPadding},[`${n}-close`]:Object.assign({position:"absolute",top:t.calc(t.modalHeaderHeight).sub(t.modalCloseBtnSize).div(2).equal(),insetInlineEnd:t.calc(t.modalHeaderHeight).sub(t.modalCloseBtnSize).div(2).equal(),zIndex:t.calc(t.zIndexPopupBase).add(10).equal(),padding:0,color:t.modalCloseIconColor,fontWeight:t.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:t.borderRadiusSM,width:t.modalCloseBtnSize,height:t.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${t.motionDurationMid}, background-color ${t.motionDurationMid}`,"&-x":{display:"flex",fontSize:t.fontSizeLG,fontStyle:"normal",lineHeight:`${$(t.modalCloseBtnSize)}`,justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:t.modalCloseIconHoverColor,backgroundColor:t.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:t.colorBgTextActive}},Qt(t)),[`${n}-header`]:{color:t.colorText,background:t.headerBg,borderRadius:`${$(t.borderRadiusLG)} ${$(t.borderRadiusLG)} 0 0`,marginBottom:t.headerMarginBottom,padding:t.headerPadding,borderBottom:t.headerBorderBottom},[`${n}-body`]:{fontSize:t.fontSize,lineHeight:t.lineHeight,wordWrap:"break-word",padding:t.bodyPadding,[`${n}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${$(t.margin)} auto`}},[`${n}-footer`]:{textAlign:"end",background:t.footerBg,marginTop:t.footerMarginTop,padding:t.footerPadding,borderTop:t.footerBorderTop,borderRadius:t.footerBorderRadius,[`> ${t.antCls}-btn + ${t.antCls}-btn`]:{marginInlineStart:t.marginXS}},[`${n}-open`]:{overflow:"hidden"}})},{[`${n}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${n}-content,
          ${n}-body,
          ${n}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${n}-confirm-body`]:{marginBottom:"auto"}}}]},Vo=t=>{const{componentCls:n}=t;return{[`${n}-root`]:{[`${n}-wrap-rtl`]:{direction:"rtl",[`${n}-confirm-body`]:{direction:"rtl"}}}}},gt=t=>{const n=t.padding,e=t.fontSizeHeading5,o=t.lineHeightHeading5;return eo(t,{modalHeaderHeight:t.calc(t.calc(o).mul(e).equal()).add(t.calc(n).mul(2).equal()).equal(),modalFooterBorderColorSplit:t.colorSplit,modalFooterBorderStyle:t.lineType,modalFooterBorderWidth:t.lineWidth,modalCloseIconColor:t.colorIcon,modalCloseIconHoverColor:t.colorIconHover,modalCloseBtnSize:t.controlHeight,modalConfirmIconSize:t.fontHeight,modalTitleHeight:t.calc(t.titleFontSize).mul(t.titleLineHeight).equal()})},Ct=t=>({footerBg:"transparent",headerBg:t.colorBgElevated,titleLineHeight:t.lineHeightHeading5,titleFontSize:t.fontSizeHeading5,contentBg:t.colorBgElevated,titleColor:t.colorTextHeading,contentPadding:t.wireframe?0:`${$(t.paddingMD)} ${$(t.paddingContentHorizontalLG)}`,headerPadding:t.wireframe?`${$(t.padding)} ${$(t.paddingLG)}`:0,headerBorderBottom:t.wireframe?`${$(t.lineWidth)} ${t.lineType} ${t.colorSplit}`:"none",headerMarginBottom:t.wireframe?0:t.marginXS,bodyPadding:t.wireframe?t.paddingLG:0,footerPadding:t.wireframe?`${$(t.paddingXS)} ${$(t.padding)}`:0,footerBorderTop:t.wireframe?`${$(t.lineWidth)} ${t.lineType} ${t.colorSplit}`:"none",footerBorderRadius:t.wireframe?`0 0 ${$(t.borderRadiusLG)} ${$(t.borderRadiusLG)}`:0,footerMarginTop:t.wireframe?0:t.marginSM,confirmBodyPadding:t.wireframe?`${$(t.padding*2)} ${$(t.padding*2)} ${$(t.paddingLG)}`:0,confirmIconMarginInlineEnd:t.wireframe?t.margin:t.marginSM,confirmBtnsMarginTop:t.wireframe?t.marginLG:t.marginSM}),bt=kt("Modal",t=>{const n=gt(t);return[Uo(n),Vo(n),Zo(n),Kt(n,"zoom")]},Ct,{unitless:{titleLineHeight:!0}});var Go=function(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(e[o[r]]=t[o[r]]);return e};let ye;const Xo=t=>{ye={x:t.pageX,y:t.pageY},setTimeout(()=>{ye=null},100)};Fo()&&document.documentElement.addEventListener("click",Xo,!0);const yt=t=>{var n;const{getPopupContainer:e,getPrefixCls:o,direction:r,modal:i}=l.useContext(he),c=Z=>{const{onCancel:D}=t;D==null||D(Z)},a=Z=>{const{onOk:D}=t;D==null||D(Z)},{prefixCls:s,className:d,rootClassName:u,open:f,wrapClassName:m,centered:p,getContainer:g,focusTriggerAfterClose:h=!0,style:v,visible:b,width:C=520,footer:R,classNames:x,styles:O,children:E,loading:P}=t,y=Go(t,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),w=o("modal",s),M=o(),A=lt(w),[L,F,T]=bt(w,A),H=I(m,{[`${w}-centered`]:!!p,[`${w}-wrap-rtl`]:r==="rtl"}),V=R!==null&&!P?l.createElement(vt,Object.assign({},t,{onOk:a,onCancel:c})):null,[U,Y]=Io(Be(t),Be(i),{closable:!0,closeIcon:l.createElement(at,{className:`${w}-close-icon`}),closeIconRender:Z=>pt(w,Z)}),te=Ho(`.${w}-content`),[J,G]=to("Modal",y.zIndex);return L(l.createElement(oo,{form:!0,space:!0},l.createElement(no.Provider,{value:G},l.createElement(ht,Object.assign({width:C},y,{zIndex:J,getContainer:g===void 0?e:g,prefixCls:w,rootClassName:I(F,u,T,A),footer:V,visible:f??b,mousePosition:(n=y.mousePosition)!==null&&n!==void 0?n:ye,onClose:c,closable:U,closeIcon:Y,focusTriggerAfterClose:h,transitionName:me(M,"zoom",t.transitionName),maskTransitionName:me(M,"fade",t.maskTransitionName),className:I(F,d,i==null?void 0:i.className),style:Object.assign(Object.assign({},i==null?void 0:i.style),v),classNames:Object.assign(Object.assign(Object.assign({},i==null?void 0:i.classNames),x),{wrapper:I(H,x==null?void 0:x.wrapper)}),styles:Object.assign(Object.assign({},i==null?void 0:i.styles),O),panelRef:te}),P?l.createElement(ro,{active:!0,title:!1,paragraph:{rows:4},className:`${w}-body-skeleton`}):E))))},qo=t=>{const{componentCls:n,titleFontSize:e,titleLineHeight:o,modalConfirmIconSize:r,fontSize:i,lineHeight:c,modalTitleHeight:a,fontHeight:s,confirmBodyPadding:d}=t,u=`${n}-confirm`;return{[u]:{"&-rtl":{direction:"rtl"},[`${t.antCls}-modal-header`]:{display:"none"},[`${u}-body-wrapper`]:Object.assign({},ao()),[`&${n} ${n}-body`]:{padding:d},[`${u}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t.iconCls}`]:{flex:"none",fontSize:r,marginInlineEnd:t.confirmIconMarginInlineEnd,marginTop:t.calc(t.calc(s).sub(r).equal()).div(2).equal()},[`&-has-title > ${t.iconCls}`]:{marginTop:t.calc(t.calc(a).sub(r).equal()).div(2).equal()}},[`${u}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:t.marginXS},[`${t.iconCls} + ${u}-paragraph`]:{maxWidth:`calc(100% - ${$(t.calc(t.modalConfirmIconSize).add(t.marginSM).equal())})`},[`${u}-title`]:{color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:e,lineHeight:o},[`${u}-content`]:{color:t.colorText,fontSize:i,lineHeight:c},[`${u}-btns`]:{textAlign:"end",marginTop:t.confirmBtnsMarginTop,[`${t.antCls}-btn + ${t.antCls}-btn`]:{marginBottom:0,marginInlineStart:t.marginXS}}},[`${u}-error ${u}-body > ${t.iconCls}`]:{color:t.colorError},[`${u}-warning ${u}-body > ${t.iconCls},
        ${u}-confirm ${u}-body > ${t.iconCls}`]:{color:t.colorWarning},[`${u}-info ${u}-body > ${t.iconCls}`]:{color:t.colorInfo},[`${u}-success ${u}-body > ${t.iconCls}`]:{color:t.colorSuccess}}},Yo=io(["Modal","confirm"],t=>{const n=gt(t);return[qo(n)]},Ct,{order:-1e3});var ko=function(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(e[o[r]]=t[o[r]]);return e};function xt(t){const{prefixCls:n,icon:e,okText:o,cancelText:r,confirmPrefixCls:i,type:c,okCancel:a,footer:s,locale:d}=t,u=ko(t,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let f=e;if(!e&&e!==null)switch(c){case"info":f=l.createElement(uo,null);break;case"success":f=l.createElement(co,null);break;case"error":f=l.createElement(lo,null);break;default:f=l.createElement(so,null)}const m=a??c==="confirm",p=t.autoFocusButton===null?!1:t.autoFocusButton||"ok",[g]=Te("Modal"),h=d||g,v=o||(m?h==null?void 0:h.okText:h==null?void 0:h.justOkText),b=r||(h==null?void 0:h.cancelText),C=Object.assign({autoFocusButton:p,cancelTextLocale:b,okTextLocale:v,mergedOkCancel:m},u),R=l.useMemo(()=>C,X(Object.values(C))),x=l.createElement(l.Fragment,null,l.createElement(Le,null),l.createElement(Fe,null)),O=t.title!==void 0&&t.title!==null,E=`${i}-body`;return l.createElement("div",{className:`${i}-body-wrapper`},l.createElement("div",{className:I(E,{[`${E}-has-title`]:O})},f,l.createElement("div",{className:`${i}-paragraph`},O&&l.createElement("span",{className:`${i}-title`},t.title),l.createElement("div",{className:`${i}-content`},t.content))),s===void 0||typeof s=="function"?l.createElement(dt,{value:R},l.createElement("div",{className:`${i}-btns`},typeof s=="function"?s(x,{OkBtn:Fe,CancelBtn:Le}):x)):s,l.createElement(Yo,{prefixCls:n}))}const Ko=t=>{const{close:n,zIndex:e,afterClose:o,open:r,keyboard:i,centered:c,getContainer:a,maskStyle:s,direction:d,prefixCls:u,wrapClassName:f,rootPrefixCls:m,bodyStyle:p,closable:g=!1,closeIcon:h,modalRender:v,focusTriggerAfterClose:b,onConfirm:C,styles:R}=t,x=`${u}-confirm`,O=t.width||416,E=t.style||{},P=t.mask===void 0?!0:t.mask,y=t.maskClosable===void 0?!1:t.maskClosable,w=I(x,`${x}-${t.type}`,{[`${x}-rtl`]:d==="rtl"},t.className),[,M]=fo(),A=l.useMemo(()=>e!==void 0?e:M.zIndexPopupBase+mo,[e,M]);return l.createElement(yt,{prefixCls:u,className:w,wrapClassName:I({[`${x}-centered`]:!!t.centered},f),onCancel:()=>{n==null||n({triggerCancel:!0}),C==null||C(!1)},open:r,title:"",footer:null,transitionName:me(m||"","zoom",t.transitionName),maskTransitionName:me(m||"","fade",t.maskTransitionName),mask:P,maskClosable:y,style:E,styles:Object.assign({body:p,mask:s},R),width:O,zIndex:A,afterClose:o,keyboard:i,centered:c,getContainer:a,closable:g,closeIcon:h,modalRender:v,focusTriggerAfterClose:b},l.createElement(xt,Object.assign({},t,{confirmPrefixCls:x})))},wt=t=>{const{rootPrefixCls:n,iconPrefixCls:e,direction:o,theme:r}=t;return l.createElement(ct,{prefixCls:n,iconPrefixCls:e,direction:o,theme:r},l.createElement(Ko,Object.assign({},t)))},K=[];let St="";function Et(){return St}const Jo=t=>{var n,e;const{prefixCls:o,getContainer:r,direction:i}=t,c=st(),a=l.useContext(he),s=Et()||a.getPrefixCls(),d=o||`${s}-modal`;let u=r;return u===!1&&(u=void 0),S.createElement(wt,Object.assign({},t,{rootPrefixCls:s,prefixCls:d,iconPrefixCls:a.iconPrefixCls,theme:a.theme,direction:i??a.direction,locale:(e=(n=a.locale)===null||n===void 0?void 0:n.Modal)!==null&&e!==void 0?e:c,getContainer:u}))};function re(t){const n=ho(),e=document.createDocumentFragment();let o=Object.assign(Object.assign({},t),{close:a,open:!0}),r;function i(){for(var d,u=arguments.length,f=new Array(u),m=0;m<u;m++)f[m]=arguments[m];if(f.some(h=>h==null?void 0:h.triggerCancel)){var g;(d=t.onCancel)===null||d===void 0||(g=d).call.apply(g,[t,()=>{}].concat(X(f.slice(1))))}for(let h=0;h<K.length;h++)if(K[h]===a){K.splice(h,1);break}po(e)}function c(d){clearTimeout(r),r=setTimeout(()=>{const u=n.getPrefixCls(void 0,Et()),f=n.getIconPrefixCls(),m=n.getTheme(),p=S.createElement(Jo,Object.assign({},d));vo(S.createElement(ct,{prefixCls:u,iconPrefixCls:f,theme:m},n.holderRender?n.holderRender(p):p),e)})}function a(){for(var d=arguments.length,u=new Array(d),f=0;f<d;f++)u[f]=arguments[f];o=Object.assign(Object.assign({},o),{open:!1,afterClose:()=>{typeof t.afterClose=="function"&&t.afterClose(),i.apply(this,u)}}),o.visible&&delete o.visible,c(o)}function s(d){typeof d=="function"?o=d(o):o=Object.assign(Object.assign({},o),d),c(o)}return c(o),K.push(a),{destroy:a,update:s}}function Pt(t){return Object.assign(Object.assign({},t),{type:"warning"})}function Rt(t){return Object.assign(Object.assign({},t),{type:"info"})}function Ot(t){return Object.assign(Object.assign({},t),{type:"success"})}function $t(t){return Object.assign(Object.assign({},t),{type:"error"})}function Mt(t){return Object.assign(Object.assign({},t),{type:"confirm"})}function Qo(t){let{rootPrefixCls:n}=t;St=n}var en=function(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(e[o[r]]=t[o[r]]);return e};const tn=(t,n)=>{var e,{afterClose:o,config:r}=t,i=en(t,["afterClose","config"]);const[c,a]=l.useState(!0),[s,d]=l.useState(r),{direction:u,getPrefixCls:f}=l.useContext(he),m=f("modal"),p=f(),g=()=>{var C;o(),(C=s.afterClose)===null||C===void 0||C.call(s)},h=function(){var C;a(!1);for(var R=arguments.length,x=new Array(R),O=0;O<R;O++)x[O]=arguments[O];if(x.some(y=>y==null?void 0:y.triggerCancel)){var P;(C=s.onCancel)===null||C===void 0||(P=C).call.apply(P,[s,()=>{}].concat(X(x.slice(1))))}};l.useImperativeHandle(n,()=>({destroy:h,update:C=>{d(R=>Object.assign(Object.assign({},R),C))}}));const v=(e=s.okCancel)!==null&&e!==void 0?e:s.type==="confirm",[b]=Te("Modal",go.Modal);return l.createElement(wt,Object.assign({prefixCls:m,rootPrefixCls:p},s,{close:h,open:c,afterClose:g,okText:s.okText||(v?b==null?void 0:b.okText:b==null?void 0:b.justOkText),direction:s.direction||u,cancelText:s.cancelText||(b==null?void 0:b.cancelText)},i))},on=l.forwardRef(tn);let qe=0;const nn=l.memo(l.forwardRef((t,n)=>{const[e,o]=Do();return l.useImperativeHandle(n,()=>({patchElement:o}),[]),l.createElement(l.Fragment,null,e)}));function rn(){const t=l.useRef(null),[n,e]=l.useState([]);l.useEffect(()=>{n.length&&(X(n).forEach(c=>{c()}),e([]))},[n]);const o=l.useCallback(i=>function(a){var s;qe+=1;const d=l.createRef();let u;const f=new Promise(v=>{u=v});let m=!1,p;const g=l.createElement(on,{key:`modal-${qe}`,config:i(a),ref:d,afterClose:()=>{p==null||p()},isSilent:()=>m,onConfirm:v=>{u(v)}});return p=(s=t.current)===null||s===void 0?void 0:s.patchElement(g),p&&K.push(p),{destroy:()=>{function v(){var b;(b=d.current)===null||b===void 0||b.destroy()}d.current?v():e(b=>[].concat(X(b),[v]))},update:v=>{function b(){var C;(C=d.current)===null||C===void 0||C.update(v)}d.current?b():e(C=>[].concat(X(C),[b]))},then:v=>(m=!0,f.then(v))}},[]);return[l.useMemo(()=>({info:o(Rt),success:o(Ot),error:o($t),warning:o(Pt),confirm:o(Mt)}),[]),l.createElement(nn,{key:"modal-holder",ref:t})]}var an=function(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(e[o[r]]=t[o[r]]);return e};const sn=t=>{const{prefixCls:n,className:e,closeIcon:o,closable:r,type:i,title:c,children:a,footer:s}=t,d=an(t,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:u}=l.useContext(he),f=u(),m=n||u("modal"),p=lt(f),[g,h,v]=bt(m,p),b=`${m}-confirm`;let C={};return i?C={closable:r??!1,title:"",footer:"",children:l.createElement(xt,Object.assign({},t,{prefixCls:m,confirmPrefixCls:b,rootPrefixCls:f,content:a}))}:C={closable:r??!0,title:c,footer:s!==null&&l.createElement(vt,Object.assign({},t)),children:a},g(l.createElement(ft,Object.assign({prefixCls:m,className:I(h,`${m}-pure-panel`,i&&b,i&&`${b}-${i}`,e,v,p)},d,{closeIcon:pt(m,o),closable:r},C)))},ln=To(sn);function Nt(t){return re(Pt(t))}const W=yt;W.useModal=rn;W.info=function(n){return re(Rt(n))};W.success=function(n){return re(Ot(n))};W.error=function(n){return re($t(n))};W.warning=Nt;W.warn=Nt;W.confirm=function(n){return re(Mt(n))};W.destroyAll=function(){for(;K.length;){const n=K.pop();n&&n()}};W.config=Qo;W._InternalPanelDoNotUseOrYouWillBeFired=ln;var xe=function(t,n){return xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])},xe(t,n)};function cn(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");xe(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var z=function(){return z=Object.assign||function(n){for(var e,o=1,r=arguments.length;o<r;o++){e=arguments[o];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},z.apply(this,arguments)};var Ye=!1,k,we,Se,de,ue,Tt,fe,Ee,Pe,Re,_t,Oe,$e,It,Dt;function B(){if(!Ye){Ye=!0;var t=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),e=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(Oe=/\b(iPhone|iP[ao]d)/.exec(t),$e=/\b(iP[ao]d)/.exec(t),Re=/Android/i.exec(t),It=/FBAN\/\w+;/i.exec(t),Dt=/Mobile/i.exec(t),_t=!!/Win64/.exec(t),n){k=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,k&&document&&document.documentMode&&(k=document.documentMode);var o=/(?:Trident\/(\d+.\d+))/.exec(t);Tt=o?parseFloat(o[1])+4:k,we=n[2]?parseFloat(n[2]):NaN,Se=n[3]?parseFloat(n[3]):NaN,de=n[4]?parseFloat(n[4]):NaN,de?(n=/(?:Chrome\/(\d+\.\d+))/.exec(t),ue=n&&n[1]?parseFloat(n[1]):NaN):ue=NaN}else k=we=Se=ue=de=NaN;if(e){if(e[1]){var r=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);fe=r?parseFloat(r[1].replace("_",".")):!0}else fe=!1;Ee=!!e[2],Pe=!!e[3]}else fe=Ee=Pe=!1}}var Me={ie:function(){return B()||k},ieCompatibilityMode:function(){return B()||Tt>k},ie64:function(){return Me.ie()&&_t},firefox:function(){return B()||we},opera:function(){return B()||Se},webkit:function(){return B()||de},safari:function(){return Me.webkit()},chrome:function(){return B()||ue},windows:function(){return B()||Ee},osx:function(){return B()||fe},linux:function(){return B()||Pe},iphone:function(){return B()||Oe},mobile:function(){return B()||Oe||$e||Re||Dt},nativeApp:function(){return B()||It},android:function(){return B()||Re},ipad:function(){return B()||$e}},dn=Me,se=!!(typeof window<"u"&&window.document&&window.document.createElement),un={canUseDOM:se,canUseWorkers:typeof Worker<"u",canUseEventListeners:se&&!!(window.addEventListener||window.attachEvent),canUseViewport:se&&!!window.screen,isInWorker:!se},fn=un,zt=fn,jt;zt.canUseDOM&&(jt=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function mn(t,n){if(!zt.canUseDOM||n&&!("addEventListener"in document))return!1;var e="on"+t,o=e in document;if(!o){var r=document.createElement("div");r.setAttribute(e,"return;"),o=typeof r[e]=="function"}return!o&&jt&&t==="wheel"&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}var hn=mn,pn=dn,vn=hn,ke=10,Ke=40,Je=800;function At(t){var n=0,e=0,o=0,r=0;return"detail"in t&&(e=t.detail),"wheelDelta"in t&&(e=-t.wheelDelta/120),"wheelDeltaY"in t&&(e=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(n=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(n=e,e=0),o=n*ke,r=e*ke,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(o=t.deltaX),(o||r)&&t.deltaMode&&(t.deltaMode==1?(o*=Ke,r*=Ke):(o*=Je,r*=Je)),o&&!n&&(n=o<1?-1:1),r&&!e&&(e=r<1?-1:1),{spinX:n,spinY:e,pixelX:o,pixelY:r}}At.getEventType=function(){return pn.firefox()?"DOMMouseScroll":vn("wheel")?"wheel":"mousewheel"};var gn=At,Cn=gn;const bn=Co(Cn);function yn(t,n,e,o,r,i){i===void 0&&(i=0);var c=ee(t,n,i),a=c.width,s=c.height,d=Math.min(a,e),u=Math.min(s,o);return d>u*r?{width:u*r,height:u}:{width:d,height:d/r}}function xn(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function le(t,n,e,o,r){r===void 0&&(r=0);var i=ee(n.width,n.height,r),c=i.width,a=i.height;return{x:Qe(t.x,c,e.width,o),y:Qe(t.y,a,e.height,o)}}function Qe(t,n,e,o){var r=n*o/2-e/2;return pe(t,-r,r)}function et(t,n){return Math.sqrt(Math.pow(t.y-n.y,2)+Math.pow(t.x-n.x,2))}function tt(t,n){return Math.atan2(n.y-t.y,n.x-t.x)*180/Math.PI}function wn(t,n,e,o,r,i,c){i===void 0&&(i=0),c===void 0&&(c=!0);var a=c?Sn:En,s=ee(n.width,n.height,i),d=ee(n.naturalWidth,n.naturalHeight,i),u={x:a(100,((s.width-e.width/r)/2-t.x/r)/s.width*100),y:a(100,((s.height-e.height/r)/2-t.y/r)/s.height*100),width:a(100,e.width/s.width*100/r),height:a(100,e.height/s.height*100/r)},f=Math.round(a(d.width,u.width*d.width/100)),m=Math.round(a(d.height,u.height*d.height/100)),p=d.width>=d.height*o,g=p?{width:Math.round(m*o),height:m}:{width:f,height:Math.round(f/o)},h=z(z({},g),{x:Math.round(a(d.width-g.width,u.x*d.width/100)),y:Math.round(a(d.height-g.height,u.y*d.height/100))});return{croppedAreaPercentages:u,croppedAreaPixels:h}}function Sn(t,n){return Math.min(t,Math.max(0,n))}function En(t,n){return n}function Pn(t,n,e,o,r,i){var c=ee(n.width,n.height,e),a=pe(o.width/c.width*(100/t.width),r,i),s={x:a*c.width/2-o.width/2-c.width*a*(t.x/100),y:a*c.height/2-o.height/2-c.height*a*(t.y/100)};return{crop:s,zoom:a}}function Rn(t,n,e){var o=xn(n);return e.height>e.width?e.height/(t.height*o):e.width/(t.width*o)}function On(t,n,e,o,r,i){e===void 0&&(e=0);var c=ee(n.naturalWidth,n.naturalHeight,e),a=pe(Rn(t,n,o),r,i),s=o.height>o.width?o.height/t.height:o.width/t.width,d={x:((c.width-t.width)/2-t.x)*s,y:((c.height-t.height)/2-t.y)*s};return{crop:d,zoom:a}}function ot(t,n){return{x:(n.x+t.x)/2,y:(n.y+t.y)/2}}function $n(t){return t*Math.PI/180}function ee(t,n,e){var o=$n(e);return{width:Math.abs(Math.cos(o)*t)+Math.abs(Math.sin(o)*n),height:Math.abs(Math.sin(o)*t)+Math.abs(Math.cos(o)*n)}}function pe(t,n,e){return Math.min(Math.max(t,n),e)}function ce(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var Mn=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Nn=1,Tn=3,_n=function(t){cn(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.imageRef=l.createRef(),e.videoRef=l.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var o=!0;e.resizeObserver=new window.ResizeObserver(function(r){if(o){o=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(o){return o.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturemove",e.onGestureMove),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var o=e.computeSizes();o&&(e.emitCropData(),e.setInitialCrop(o)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(o){if(e.props.initialCroppedAreaPercentages){var r=Pn(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,o,e.props.minZoom,e.props.maxZoom),i=r.crop,c=r.zoom;e.props.onCropChange(i),e.props.onZoomChange&&e.props.onZoomChange(c)}else if(e.props.initialCroppedAreaPixels){var a=On(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,o,e.props.minZoom,e.props.maxZoom),i=a.crop,c=a.zoom;e.props.onCropChange(i),e.props.onZoomChange&&e.props.onZoomChange(c)}},e.computeSizes=function(){var o,r,i,c,a,s,d=e.imageRef.current||e.videoRef.current;if(d&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var u=e.containerRect.width/e.containerRect.height,f=((o=e.imageRef.current)===null||o===void 0?void 0:o.naturalWidth)||((r=e.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,m=((i=e.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((c=e.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,p=d.offsetWidth<f||d.offsetHeight<m,g=f/m,h=void 0;if(p)switch(e.state.mediaObjectFit){default:case"contain":h=u>g?{width:e.containerRect.height*g,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/g};break;case"horizontal-cover":h={width:e.containerRect.width,height:e.containerRect.width/g};break;case"vertical-cover":h={width:e.containerRect.height*g,height:e.containerRect.height};break}else h={width:d.offsetWidth,height:d.offsetHeight};e.mediaSize=z(z({},h),{naturalWidth:f,naturalHeight:m}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var v=e.props.cropSize?e.props.cropSize:yn(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((a=e.state.cropSize)===null||a===void 0?void 0:a.height)!==v.height||((s=e.state.cropSize)===null||s===void 0?void 0:s.width)!==v.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(v),e.setState({cropSize:v},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(v),v}},e.saveContainerPosition=function(){if(e.containerRef){var o=e.containerRef.getBoundingClientRect();e.containerPosition={x:o.left,y:o.top}}},e.onMouseDown=function(o){e.currentDoc&&(o.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(n.getMousePoint(o)))},e.onMouseMove=function(o){return e.onDrag(n.getMousePoint(o))},e.onScroll=function(o){e.currentDoc&&(o.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(o){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(o))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),o.touches.length===2?e.onPinchStart(o):o.touches.length===1&&e.onDragStart(n.getTouchPoint(o.touches[0]))))},e.onTouchMove=function(o){o.preventDefault(),o.touches.length===2?e.onPinchMove(o):o.touches.length===1&&e.onDrag(n.getTouchPoint(o.touches[0]))},e.onGestureStart=function(o){e.currentDoc&&(o.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureMove),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureMove=function(o){if(o.preventDefault(),!e.isTouching){var r=n.getMousePoint(o),i=e.gestureZoomStart-1+o.scale;if(e.setNewZoom(i,r,{shouldUpdatePosition:!0}),e.props.onRotationChange){var c=e.gestureRotationStart+o.rotation;e.props.onRotationChange(c)}}},e.onGestureEnd=function(o){e.cleanEvents()},e.onDragStart=function(o){var r,i,c=o.x,a=o.y;e.dragStartPosition={x:c,y:a},e.dragStartCrop=z({},e.props.crop),(i=(r=e.props).onInteractionStart)===null||i===void 0||i.call(r)},e.onDrag=function(o){var r=o.x,i=o.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(r===void 0||i===void 0)){var c=r-e.dragStartPosition.x,a=i-e.dragStartPosition.y,s={x:e.dragStartCrop.x+c,y:e.dragStartCrop.y+a},d=e.props.restrictPosition?le(s,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):s;e.props.onCropChange(d)}}))},e.onDragStopped=function(){var o,r;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(r=(o=e.props).onInteractionEnd)===null||r===void 0||r.call(o)},e.onWheel=function(o){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(o))){o.preventDefault();var r=n.getMousePoint(o),i=bn(o).pixelY,c=e.props.zoom-i*e.props.zoomSpeed/200;e.setNewZoom(c,r,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var a,s;return(s=(a=e.props).onInteractionStart)===null||s===void 0?void 0:s.call(a)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var a,s;return(s=(a=e.props).onInteractionEnd)===null||s===void 0?void 0:s.call(a)})},250)}},e.getPointOnContainer=function(o,r){var i=o.x,c=o.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(i-r.x),y:e.containerRect.height/2-(c-r.y)}},e.getPointOnMedia=function(o){var r=o.x,i=o.y,c=e.props,a=c.crop,s=c.zoom;return{x:(r+a.x)/s,y:(i+a.y)/s}},e.setNewZoom=function(o,r,i){var c=i===void 0?{}:i,a=c.shouldUpdatePosition,s=a===void 0?!0:a;if(!(!e.state.cropSize||!e.props.onZoomChange)){var d=pe(o,e.props.minZoom,e.props.maxZoom);if(s){var u=e.getPointOnContainer(r,e.containerPosition),f=e.getPointOnMedia(u),m={x:f.x*d-u.x,y:f.y*d-u.y},p=e.props.restrictPosition?le(m,e.mediaSize,e.state.cropSize,d,e.props.rotation):m;e.props.onCropChange(p)}e.props.onZoomChange(d)}},e.getCropData=function(){if(!e.state.cropSize)return null;var o=e.props.restrictPosition?le(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return wn(o,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var o=e.getCropData();if(o){var r=o.croppedAreaPercentages,i=o.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(r,i),e.props.onCropAreaChange&&e.props.onCropAreaChange(r,i)}},e.emitCropAreaChange=function(){var o=e.getCropData();if(o){var r=o.croppedAreaPercentages,i=o.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(r,i)}},e.recomputeCropPosition=function(){if(e.state.cropSize){var o=e.props.restrictPosition?le(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(o),e.emitCropData()}},e}return n.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Mn,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},n.prototype.componentWillUnmount=function(){var e,o;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((o=this.styleRef.parentNode)===null||o===void 0||o.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},n.prototype.componentDidUpdate=function(e){var o,r,i,c,a,s,d,u,f;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((o=e.cropSize)===null||o===void 0?void 0:o.height)!==((r=this.props.cropSize)===null||r===void 0?void 0:r.height)||((i=e.cropSize)===null||i===void 0?void 0:i.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((a=e.crop)===null||a===void 0?void 0:a.x)!==((s=this.props.crop)===null||s===void 0?void 0:s.x)||((d=e.crop)===null||d===void 0?void 0:d.y)!==((u=this.props.crop)===null||u===void 0?void 0:u.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((f=this.videoRef.current)===null||f===void 0||f.load());var m=this.getObjectFit();m!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:m},this.computeSizes)},n.prototype.getAspect=function(){var e=this.props,o=e.cropSize,r=e.aspect;return o?o.width/o.height:r},n.prototype.getObjectFit=function(){var e,o,r,i;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,s=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((o=this.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,d=((r=this.imageRef.current)===null||r===void 0?void 0:r.naturalHeight)||((i=this.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,u=s/d;return u<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},n.prototype.onPinchStart=function(e){var o=n.getTouchPoint(e.touches[0]),r=n.getTouchPoint(e.touches[1]);this.lastPinchDistance=et(o,r),this.lastPinchRotation=tt(o,r),this.onDragStart(ot(o,r))},n.prototype.onPinchMove=function(e){var o=this;if(!(!this.currentDoc||!this.currentWindow)){var r=n.getTouchPoint(e.touches[0]),i=n.getTouchPoint(e.touches[1]),c=ot(r,i);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=et(r,i),s=o.props.zoom*(a/o.lastPinchDistance);o.setNewZoom(s,c,{shouldUpdatePosition:!1}),o.lastPinchDistance=a;var d=tt(r,i),u=o.props.rotation+(d-o.lastPinchRotation);o.props.onRotationChange&&o.props.onRotationChange(u),o.lastPinchRotation=d})}},n.prototype.render=function(){var e=this,o,r=this.props,i=r.image,c=r.video,a=r.mediaProps,s=r.transform,d=r.crop,u=d.x,f=d.y,m=r.rotation,p=r.zoom,g=r.cropShape,h=r.showGrid,v=r.style,b=v.containerStyle,C=v.cropAreaStyle,R=v.mediaStyle,x=r.classes,O=x.containerClassName,E=x.cropAreaClassName,P=x.mediaClassName,y=(o=this.state.mediaObjectFit)!==null&&o!==void 0?o:this.getObjectFit();return l.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(M){return e.containerRef=M},"data-testid":"container",style:b,className:ce("reactEasyCrop_Container",O)},i?l.createElement("img",z({alt:"",className:ce("reactEasyCrop_Image",y==="contain"&&"reactEasyCrop_Contain",y==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",y==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",P)},a,{src:i,ref:this.imageRef,style:z(z({},R),{transform:s||"translate(".concat(u,"px, ").concat(f,"px) rotate(").concat(m,"deg) scale(").concat(p,")")}),onLoad:this.onMediaLoad})):c&&l.createElement("video",z({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:ce("reactEasyCrop_Video",y==="contain"&&"reactEasyCrop_Contain",y==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",y==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",P)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:z(z({},R),{transform:s||"translate(".concat(u,"px, ").concat(f,"px) rotate(").concat(m,"deg) scale(").concat(p,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function(w){return l.createElement("source",z({key:w.src},w))})),this.state.cropSize&&l.createElement("div",{style:z(z({},C),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:ce("reactEasyCrop_CropArea",g==="round"&&"reactEasyCrop_CropAreaRound",h&&"reactEasyCrop_CropAreaGrid",E)}))},n.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Tn,minZoom:Nn,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},n.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n}(l.Component);const In=async(t,n)=>new Promise(e=>{const o=new Image;o.src=t,o.onload=()=>{const r=document.createElement("canvas"),i=r.getContext("2d");r.width=n.width,r.height=n.height,i.drawImage(o,n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.toBlob(c=>{e(c)},"image/png")}}),Fn=()=>{const[t]=Q.useForm(),n=bo(),e=yo(),o=xo(y=>y.user.userInfo.data),r=o==null?void 0:o.id,i=/^(([^<>()\[\]\\.,:\s@"]+(\.[^<>()\[\]\\.,:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,c=/^[\S]{1,10}$/,[a,s]=l.useState([]),[d,u]=l.useState(!1),[f,m]=l.useState(null),[p,g]=l.useState({x:0,y:0}),[h,v]=l.useState(1),[b,C]=l.useState(null),R=async y=>{const{nickname:w,email:M}=y,A=a.map(T=>(console.log(T),T.response?T.response.url[0]:T)),L={id:o==null?void 0:o.id,nickname:w,email:M},F={id:o==null?void 0:o.id,avatar:A};console.log(F),await Po(L),await Ro(F),Ae.success("Update successful!"),n("/")},x=y=>{const w=y.file;return console.log(w),w&&w instanceof File?(m(URL.createObjectURL(w)),u(!0),!1):Ae.error("Something went wrong!")},O=(y,w)=>{C(w)},E=()=>{u(!1)},P=async()=>{if(b){const y=await In(f,b);s([y]),u(!1),m(null),C(null);const w=new File([y],"cropped-image.png",{type:"image/png"});if(w&&w instanceof File){const M=new FormData;M.append("avatar",w);const L=(await No(M)).data.url;s(L.map(F=>F)),console.log(a)}else console.log("not file")}};return l.useEffect(()=>{async function y(){const M=(await Oo()).data.data;t.setFieldsValue({...M});const A=JSON.parse(M.avatar);s(A.map(L=>L))}y()},[r,t]),N.jsx(wo,{title:N.jsx(_o,{items:[{title:N.jsx(So,{to:"/",children:"Home"})},{title:"My information"}]}),style:{marginBottom:20},children:N.jsxs(Q,{labelCol:{span:4},wrapperCol:{span:16},form:t,onFinish:R,children:[N.jsx(Q.Item,{name:"avatar",label:"Avatar ",children:N.jsx(Mo,{name:"avatar",action:"http://127.0.0.1:3007/public/avatar",headers:{Authorization:`${e}`},customRequest:x,listType:"picture-card",showUploadList:!0,maxCount:1,fileList:a.map(y=>({uid:y.name,name:y.name,status:"done",url:y.url?`http://127.0.0.1:3007${y.url}`:URL.createObjectURL(y)})),onRemove:()=>{s([])},children:a.length<1&&N.jsx("div",{style:{marginTop:8},children:N.jsx(Eo,{})})})}),N.jsx(W,{title:"Crop Avatar",open:d,footer:null,onCancel:E,style:{height:"600px",width:"450px"},children:f&&N.jsxs("div",{style:{position:"relative",height:"400px",width:"100%",marginBottom:"30px"},children:[N.jsx(_n,{image:f,crop:p,zoom:h,aspect:1,onCropChange:g,onZoomChange:v,onCropComplete:O}),N.jsx(oe,{type:"primary",onClick:P,style:{marginTop:"410px",marginLeft:"180px"},children:"Crop Avatar"})]})}),N.jsx(Q.Item,{label:"Nickname",name:"nickname",rules:[{pattern:c,message:"Please input valid nickname!"}],children:N.jsx(je,{placeholder:"Add your nickname here",style:{width:300}})}),N.jsx(Q.Item,{label:"Email",name:"email",rules:[{pattern:i,message:"Please input valid email!"}],children:N.jsx(je,{placeholder:"Add your email here",style:{width:300}})}),N.jsxs(Q.Item,{wrapperCol:{offset:4},children:[N.jsx(oe,{type:"primary",htmlType:"submit",children:"Save"}),N.jsx(oe,{style:{marginLeft:8},onClick:()=>n("/"),children:"Cancel"})]})]})})};export{Fn as default};
//# sourceMappingURL=index-BAOrTpSp.js.map
