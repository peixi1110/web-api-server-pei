import{r as l,v as q,z as x,bk as nt,bb as Zt,f as I,x as B,A as Ie,K as rt,I as Y,y as Ne,aM as it,bl as Ut,bm as ze,ao as je,bn as Vt,o as Gt,D as Xt,B as oe,bo as qt,ag as _e,bp as Yt,bf as at,bq as st,g as kt,br as Kt,u as T,a as Jt,ap as Qt,m as eo,C as he,e as lt,ai as to,aj as oo,bs as no,bg as me,bt as ro,au as io,aV as ao,bu as ct,bv as so,be as lo,bw as co,bx as uo,av as fo,by as mo,bz as ho,bA as po,bB as vo,aW as go,q as Co,b0 as Q,j as bo,b4 as yo,i as xo,k as N,l as wo,a$ as So,b6 as Eo,aQ as Ae,bC as Po,bD as Ro,b7 as ye,n as Oo}from"./index-JF3z_A4z.js";import{i as $o,U as Mo,a as To,u as No}from"./pictures-DPD50ief.js";import{w as _o,B as Do}from"./Breadcrumb-Dbzc5jY3.js";import{u as Io,p as Be}from"./useClosable-pnzPwyIl.js";import"./useForceUpdate-DHXpXajI.js";import"./DeleteOutlined-L8dLjXC1.js";function zo(){const[t,n]=l.useState([]),e=l.useCallback(o=>(n(r=>[].concat(q(r),[o])),()=>{n(r=>r.filter(i=>i!==o))}),[]);return[t,e]}const ne=x.createContext({}),{Provider:dt}=ne,Le=()=>{const{autoFocusButton:t,cancelButtonProps:n,cancelTextLocale:e,isSilent:o,mergedOkCancel:r,rootPrefixCls:i,close:c,onCancel:s,onConfirm:a}=l.useContext(ne);return r?x.createElement(nt,{isSilent:o,actionFn:s,close:function(){c==null||c.apply(void 0,arguments),a==null||a(!1)},autoFocus:t==="cancel",buttonProps:n,prefixCls:`${i}-btn`},e):null},Fe=()=>{const{autoFocusButton:t,close:n,isSilent:e,okButtonProps:o,rootPrefixCls:r,okTextLocale:i,okType:c,onConfirm:s,onOk:a}=l.useContext(ne);return x.createElement(nt,{isSilent:e,type:c||"primary",actionFn:a,close:function(){n==null||n.apply(void 0,arguments),s==null||s(!0)},autoFocus:t==="ok",buttonProps:o,prefixCls:`${r}-btn`},i)};var ut=l.createContext({});function We(t,n,e){var o=n;return!o&&e&&(o="".concat(t,"-").concat(e)),o}function He(t,n){var e=t["page".concat(n?"Y":"X","Offset")],o="scroll".concat(n?"Top":"Left");if(typeof e!="number"){var r=t.document;e=r.documentElement[o],typeof e!="number"&&(e=r.body[o])}return e}function jo(t){var n=t.getBoundingClientRect(),e={left:n.left,top:n.top},o=t.ownerDocument,r=o.defaultView||o.parentWindow;return e.left+=He(r),e.top+=He(r,!0),e}const Ao=l.memo(function(t){var n=t.children;return n},function(t,n){var e=n.shouldUpdate;return!e});var Ze={width:0,height:0,overflow:"hidden",outline:"none"},Bo={outline:"none"},ft=x.forwardRef(function(t,n){var e=t.prefixCls,o=t.className,r=t.style,i=t.title,c=t.ariaId,s=t.footer,a=t.closable,d=t.closeIcon,u=t.onClose,f=t.children,m=t.bodyStyle,p=t.bodyProps,g=t.modalRender,h=t.onMouseDown,v=t.onMouseUp,b=t.holderRef,C=t.visible,P=t.forceRender,y=t.width,R=t.height,S=t.classNames,E=t.styles,O=x.useContext(ut),$=O.panel,H=Zt(b,$),w=l.useRef(),M=l.useRef(),L=l.useRef();x.useImperativeHandle(n,function(){return{focus:function(){var j;(j=L.current)===null||j===void 0||j.focus({preventScroll:!0})},changeActive:function(j){var ve=document,ie=ve.activeElement;j&&ie===M.current?w.current.focus({preventScroll:!0}):!j&&ie===w.current&&M.current.focus({preventScroll:!0})}}});var _={};y!==void 0&&(_.width=y),R!==void 0&&(_.height=R);var z=s?x.createElement("div",{className:I("".concat(e,"-footer"),S==null?void 0:S.footer),style:B({},E==null?void 0:E.footer)},s):null,Z=i?x.createElement("div",{className:I("".concat(e,"-header"),S==null?void 0:S.header),style:B({},E==null?void 0:E.header)},x.createElement("div",{className:"".concat(e,"-title"),id:c},i)):null,F=l.useMemo(function(){return Ie(a)==="object"&&a!==null?a:a?{closeIcon:d??x.createElement("span",{className:"".concat(e,"-close-x")})}:{}},[a,d,e]),G=rt(F,!0),te=Ie(a)==="object"&&a.disabled,J=a?x.createElement("button",Y({type:"button",onClick:u,"aria-label":"Close"},G,{className:"".concat(e,"-close"),disabled:te}),F.closeIcon):null,X=x.createElement("div",{className:I("".concat(e,"-content"),S==null?void 0:S.content),style:E==null?void 0:E.content},J,Z,x.createElement("div",Y({className:I("".concat(e,"-body"),S==null?void 0:S.body),style:B(B({},m),E==null?void 0:E.body)},p),f),z);return x.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":i?c:null,"aria-modal":"true",ref:H,style:B(B({},r),_),className:I(e,o),onMouseDown:h,onMouseUp:v},x.createElement("div",{tabIndex:0,ref:w,style:Ze,"aria-hidden":"true"}),x.createElement("div",{ref:L,tabIndex:-1,style:Bo},x.createElement(Ao,{shouldUpdate:C||P},g?g(X):X)),x.createElement("div",{tabIndex:0,ref:M,style:Ze,"aria-hidden":"true"}))}),mt=l.forwardRef(function(t,n){var e=t.prefixCls,o=t.title,r=t.style,i=t.className,c=t.visible,s=t.forceRender,a=t.destroyOnClose,d=t.motionName,u=t.ariaId,f=t.onVisibleChanged,m=t.mousePosition,p=l.useRef(),g=l.useState(),h=Ne(g,2),v=h[0],b=h[1],C={};v&&(C.transformOrigin=v);function P(){var y=jo(p.current);b(m&&(m.x||m.y)?"".concat(m.x-y.left,"px ").concat(m.y-y.top,"px"):"")}return l.createElement(it,{visible:c,onVisibleChanged:f,onAppearPrepare:P,onEnterPrepare:P,forceRender:s,motionName:d,removeOnLeave:a,ref:p},function(y,R){var S=y.className,E=y.style;return l.createElement(ft,Y({},t,{ref:n,title:o,ariaId:u,prefixCls:e,holderRef:R,style:B(B(B({},E),r),C),className:I(i,S)}))})});mt.displayName="Content";var Lo=function(n){var e=n.prefixCls,o=n.style,r=n.visible,i=n.maskProps,c=n.motionName,s=n.className;return l.createElement(it,{key:"mask",visible:r,motionName:c,leavedClassName:"".concat(e,"-mask-hidden")},function(a,d){var u=a.className,f=a.style;return l.createElement("div",Y({ref:d,style:B(B({},f),o),className:I("".concat(e,"-mask"),u,s)},i))})},Fo=function(n){var e=n.prefixCls,o=e===void 0?"rc-dialog":e,r=n.zIndex,i=n.visible,c=i===void 0?!1:i,s=n.keyboard,a=s===void 0?!0:s,d=n.focusTriggerAfterClose,u=d===void 0?!0:d,f=n.wrapStyle,m=n.wrapClassName,p=n.wrapProps,g=n.onClose,h=n.afterOpenChange,v=n.afterClose,b=n.transitionName,C=n.animation,P=n.closable,y=P===void 0?!0:P,R=n.mask,S=R===void 0?!0:R,E=n.maskTransitionName,O=n.maskAnimation,$=n.maskClosable,H=$===void 0?!0:$,w=n.maskStyle,M=n.maskProps,L=n.rootClassName,_=n.classNames,z=n.styles,Z=l.useRef(),F=l.useRef(),G=l.useRef(),te=l.useState(c),J=Ne(te,2),X=J[0],V=J[1],j=Ut();function ve(){ze(F.current,document.activeElement)||(Z.current=document.activeElement)}function ie(){if(!ze(F.current,document.activeElement)){var D;(D=G.current)===null||D===void 0||D.focus()}}function Bt(D){if(D)ie();else{if(V(!1),S&&Z.current&&u){try{Z.current.focus({preventScroll:!0})}catch{}Z.current=null}X&&(v==null||v())}h==null||h(D)}function ge(D){g==null||g(D)}var ae=l.useRef(!1),Ce=l.useRef(),Lt=function(){clearTimeout(Ce.current),ae.current=!0},Ft=function(){Ce.current=setTimeout(function(){ae.current=!1})},De=null;H&&(De=function(be){ae.current?ae.current=!1:F.current===be.target&&ge(be)});function Wt(D){if(a&&D.keyCode===je.ESC){D.stopPropagation(),ge(D);return}c&&D.keyCode===je.TAB&&G.current.changeActive(!D.shiftKey)}l.useEffect(function(){c&&(V(!0),ve())},[c]),l.useEffect(function(){return function(){clearTimeout(Ce.current)}},[]);var Ht=B(B(B({zIndex:r},f),z==null?void 0:z.wrapper),{},{display:X?null:"none"});return l.createElement("div",Y({className:I("".concat(o,"-root"),L)},rt(n,{data:!0})),l.createElement(Lo,{prefixCls:o,visible:S&&c,motionName:We(o,E,O),style:B(B({zIndex:r},w),z==null?void 0:z.mask),maskProps:M,className:_==null?void 0:_.mask}),l.createElement("div",Y({tabIndex:-1,onKeyDown:Wt,className:I("".concat(o,"-wrap"),m,_==null?void 0:_.wrapper),ref:F,onClick:De,style:Ht},p),l.createElement(mt,Y({},n,{onMouseDown:Lt,onMouseUp:Ft,ref:G,closable:y,ariaId:j,prefixCls:o,visible:c&&X,onClose:ge,onVisibleChanged:Bt,motionName:We(o,b,C)}))))},ht=function(n){var e=n.visible,o=n.getContainer,r=n.forceRender,i=n.destroyOnClose,c=i===void 0?!1:i,s=n.afterClose,a=n.panelRef,d=l.useState(e),u=Ne(d,2),f=u[0],m=u[1],p=l.useMemo(function(){return{panel:a}},[a]);return l.useEffect(function(){e&&m(!0)},[e]),!r&&c&&!f?null:l.createElement(ut.Provider,{value:p},l.createElement(Vt,{open:e||r||f,autoDestroy:!1,getContainer:o,autoLock:e||f},l.createElement(Fo,Y({},n,{destroyOnClose:c,afterClose:function(){s==null||s(),m(!1)}}))))};ht.displayName="Dialog";const Wo=()=>Gt()&&window.document.documentElement;function Ue(){}const Ho=l.createContext({add:Ue,remove:Ue});function Zo(t){const n=l.useContext(Ho),e=l.useRef();return Xt(r=>{if(r){const i=t?r.querySelector(t):r;n.add(i),e.current=i}else n.remove(e.current)})}const Ve=()=>{const{cancelButtonProps:t,cancelTextLocale:n,onCancel:e}=l.useContext(ne);return x.createElement(oe,Object.assign({onClick:e},t),n)},Ge=()=>{const{confirmLoading:t,okButtonProps:n,okType:e,okTextLocale:o,onOk:r}=l.useContext(ne);return x.createElement(oe,Object.assign({},qt(e),{loading:t,onClick:r},n),o)};function pt(t,n){return x.createElement("span",{className:`${t}-close-x`},n||x.createElement(at,{className:`${t}-close-icon`}))}const vt=t=>{const{okText:n,okType:e="primary",cancelText:o,confirmLoading:r,onOk:i,onCancel:c,okButtonProps:s,cancelButtonProps:a,footer:d}=t,[u]=_e("Modal",st()),f=n||(u==null?void 0:u.okText),m=o||(u==null?void 0:u.cancelText),p={confirmLoading:r,okButtonProps:s,cancelButtonProps:a,okTextLocale:f,cancelTextLocale:m,okType:e,onOk:i,onCancel:c},g=x.useMemo(()=>p,q(Object.values(p)));let h;return typeof d=="function"||typeof d>"u"?(h=x.createElement(x.Fragment,null,x.createElement(Ve,null),x.createElement(Ge,null)),typeof d=="function"&&(h=d(h,{OkBtn:Ge,CancelBtn:Ve})),h=x.createElement(dt,{value:g},h)):h=d,x.createElement(Yt,{disabled:!1},h)};function Xe(t){return{position:t,inset:0}}const Uo=t=>{const{componentCls:n,antCls:e}=t;return[{[`${n}-root`]:{[`${n}${e}-zoom-enter, ${n}${e}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:t.motionDurationSlow,userSelect:"none"},[`${n}${e}-zoom-leave ${n}-content`]:{pointerEvents:"none"},[`${n}-mask`]:Object.assign(Object.assign({},Xe("fixed")),{zIndex:t.zIndexPopupBase,height:"100%",backgroundColor:t.colorBgMask,pointerEvents:"none",[`${n}-hidden`]:{display:"none"}}),[`${n}-wrap`]:Object.assign(Object.assign({},Xe("fixed")),{zIndex:t.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${n}-root`]:$o(t)}]},Vo=t=>{const{componentCls:n}=t;return[{[`${n}-root`]:{[`${n}-wrap-rtl`]:{direction:"rtl"},[`${n}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[n]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${t.screenSMMax}px)`]:{[n]:{maxWidth:"calc(100vw - 16px)",margin:`${T(t.marginXS)} auto`},[`${n}-centered`]:{[n]:{flex:1}}}}},{[n]:Object.assign(Object.assign({},Jt(t)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${T(t.calc(t.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:t.paddingLG,[`${n}-title`]:{margin:0,color:t.titleColor,fontWeight:t.fontWeightStrong,fontSize:t.titleFontSize,lineHeight:t.titleLineHeight,wordWrap:"break-word"},[`${n}-content`]:{position:"relative",backgroundColor:t.contentBg,backgroundClip:"padding-box",border:0,borderRadius:t.borderRadiusLG,boxShadow:t.boxShadow,pointerEvents:"auto",padding:t.contentPadding},[`${n}-close`]:Object.assign({position:"absolute",top:t.calc(t.modalHeaderHeight).sub(t.modalCloseBtnSize).div(2).equal(),insetInlineEnd:t.calc(t.modalHeaderHeight).sub(t.modalCloseBtnSize).div(2).equal(),zIndex:t.calc(t.zIndexPopupBase).add(10).equal(),padding:0,color:t.modalCloseIconColor,fontWeight:t.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:t.borderRadiusSM,width:t.modalCloseBtnSize,height:t.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${t.motionDurationMid}, background-color ${t.motionDurationMid}`,"&-x":{display:"flex",fontSize:t.fontSizeLG,fontStyle:"normal",lineHeight:`${T(t.modalCloseBtnSize)}`,justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:t.modalCloseIconHoverColor,backgroundColor:t.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:t.colorBgTextActive}},Qt(t)),[`${n}-header`]:{color:t.colorText,background:t.headerBg,borderRadius:`${T(t.borderRadiusLG)} ${T(t.borderRadiusLG)} 0 0`,marginBottom:t.headerMarginBottom,padding:t.headerPadding,borderBottom:t.headerBorderBottom},[`${n}-body`]:{fontSize:t.fontSize,lineHeight:t.lineHeight,wordWrap:"break-word",padding:t.bodyPadding,[`${n}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${T(t.margin)} auto`}},[`${n}-footer`]:{textAlign:"end",background:t.footerBg,marginTop:t.footerMarginTop,padding:t.footerPadding,borderTop:t.footerBorderTop,borderRadius:t.footerBorderRadius,[`> ${t.antCls}-btn + ${t.antCls}-btn`]:{marginInlineStart:t.marginXS}},[`${n}-open`]:{overflow:"hidden"}})},{[`${n}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${n}-content,
          ${n}-body,
          ${n}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${n}-confirm-body`]:{marginBottom:"auto"}}}]},Go=t=>{const{componentCls:n}=t;return{[`${n}-root`]:{[`${n}-wrap-rtl`]:{direction:"rtl",[`${n}-confirm-body`]:{direction:"rtl"}}}}},gt=t=>{const n=t.padding,e=t.fontSizeHeading5,o=t.lineHeightHeading5;return eo(t,{modalHeaderHeight:t.calc(t.calc(o).mul(e).equal()).add(t.calc(n).mul(2).equal()).equal(),modalFooterBorderColorSplit:t.colorSplit,modalFooterBorderStyle:t.lineType,modalFooterBorderWidth:t.lineWidth,modalCloseIconColor:t.colorIcon,modalCloseIconHoverColor:t.colorIconHover,modalCloseBtnSize:t.controlHeight,modalConfirmIconSize:t.fontHeight,modalTitleHeight:t.calc(t.titleFontSize).mul(t.titleLineHeight).equal()})},Ct=t=>({footerBg:"transparent",headerBg:t.colorBgElevated,titleLineHeight:t.lineHeightHeading5,titleFontSize:t.fontSizeHeading5,contentBg:t.colorBgElevated,titleColor:t.colorTextHeading,contentPadding:t.wireframe?0:`${T(t.paddingMD)} ${T(t.paddingContentHorizontalLG)}`,headerPadding:t.wireframe?`${T(t.padding)} ${T(t.paddingLG)}`:0,headerBorderBottom:t.wireframe?`${T(t.lineWidth)} ${t.lineType} ${t.colorSplit}`:"none",headerMarginBottom:t.wireframe?0:t.marginXS,bodyPadding:t.wireframe?t.paddingLG:0,footerPadding:t.wireframe?`${T(t.paddingXS)} ${T(t.padding)}`:0,footerBorderTop:t.wireframe?`${T(t.lineWidth)} ${t.lineType} ${t.colorSplit}`:"none",footerBorderRadius:t.wireframe?`0 0 ${T(t.borderRadiusLG)} ${T(t.borderRadiusLG)}`:0,footerMarginTop:t.wireframe?0:t.marginSM,confirmBodyPadding:t.wireframe?`${T(t.padding*2)} ${T(t.padding*2)} ${T(t.paddingLG)}`:0,confirmIconMarginInlineEnd:t.wireframe?t.margin:t.marginSM,confirmBtnsMarginTop:t.wireframe?t.marginLG:t.marginSM}),bt=kt("Modal",t=>{const n=gt(t);return[Vo(n),Go(n),Uo(n),Kt(n,"zoom")]},Ct,{unitless:{titleLineHeight:!0}});var Xo=function(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(e[o[r]]=t[o[r]]);return e};let xe;const qo=t=>{xe={x:t.pageX,y:t.pageY},setTimeout(()=>{xe=null},100)};Wo()&&document.documentElement.addEventListener("click",qo,!0);const yt=t=>{var n;const{getPopupContainer:e,getPrefixCls:o,direction:r,modal:i}=l.useContext(he),c=V=>{const{onCancel:j}=t;j==null||j(V)},s=V=>{const{onOk:j}=t;j==null||j(V)},{prefixCls:a,className:d,rootClassName:u,open:f,wrapClassName:m,centered:p,getContainer:g,focusTriggerAfterClose:h=!0,style:v,visible:b,width:C=520,footer:P,classNames:y,styles:R,children:S,loading:E}=t,O=Xo(t,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),$=o("modal",a),H=o(),w=lt($),[M,L,_]=bt($,w),z=I(m,{[`${$}-centered`]:!!p,[`${$}-wrap-rtl`]:r==="rtl"}),Z=P!==null&&!E?l.createElement(vt,Object.assign({},t,{onOk:s,onCancel:c})):null,[F,G]=Io(Be(t),Be(i),{closable:!0,closeIcon:l.createElement(at,{className:`${$}-close-icon`}),closeIconRender:V=>pt($,V)}),te=Zo(`.${$}-content`),[J,X]=to("Modal",O.zIndex);return M(l.createElement(oo,{form:!0,space:!0},l.createElement(no.Provider,{value:X},l.createElement(ht,Object.assign({width:C},O,{zIndex:J,getContainer:g===void 0?e:g,prefixCls:$,rootClassName:I(L,u,_,w),footer:Z,visible:f??b,mousePosition:(n=O.mousePosition)!==null&&n!==void 0?n:xe,onClose:c,closable:F,closeIcon:G,focusTriggerAfterClose:h,transitionName:me(H,"zoom",t.transitionName),maskTransitionName:me(H,"fade",t.maskTransitionName),className:I(L,d,i==null?void 0:i.className),style:Object.assign(Object.assign({},i==null?void 0:i.style),v),classNames:Object.assign(Object.assign(Object.assign({},i==null?void 0:i.classNames),y),{wrapper:I(z,y==null?void 0:y.wrapper)}),styles:Object.assign(Object.assign({},i==null?void 0:i.styles),R),panelRef:te}),E?l.createElement(ro,{active:!0,title:!1,paragraph:{rows:4},className:`${$}-body-skeleton`}):S))))},Yo=t=>{const{componentCls:n,titleFontSize:e,titleLineHeight:o,modalConfirmIconSize:r,fontSize:i,lineHeight:c,modalTitleHeight:s,fontHeight:a,confirmBodyPadding:d}=t,u=`${n}-confirm`;return{[u]:{"&-rtl":{direction:"rtl"},[`${t.antCls}-modal-header`]:{display:"none"},[`${u}-body-wrapper`]:Object.assign({},ao()),[`&${n} ${n}-body`]:{padding:d},[`${u}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t.iconCls}`]:{flex:"none",fontSize:r,marginInlineEnd:t.confirmIconMarginInlineEnd,marginTop:t.calc(t.calc(a).sub(r).equal()).div(2).equal()},[`&-has-title > ${t.iconCls}`]:{marginTop:t.calc(t.calc(s).sub(r).equal()).div(2).equal()}},[`${u}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:t.marginXS},[`${t.iconCls} + ${u}-paragraph`]:{maxWidth:`calc(100% - ${T(t.calc(t.modalConfirmIconSize).add(t.marginSM).equal())})`},[`${u}-title`]:{color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:e,lineHeight:o},[`${u}-content`]:{color:t.colorText,fontSize:i,lineHeight:c},[`${u}-btns`]:{textAlign:"end",marginTop:t.confirmBtnsMarginTop,[`${t.antCls}-btn + ${t.antCls}-btn`]:{marginBottom:0,marginInlineStart:t.marginXS}}},[`${u}-error ${u}-body > ${t.iconCls}`]:{color:t.colorError},[`${u}-warning ${u}-body > ${t.iconCls},
        ${u}-confirm ${u}-body > ${t.iconCls}`]:{color:t.colorWarning},[`${u}-info ${u}-body > ${t.iconCls}`]:{color:t.colorInfo},[`${u}-success ${u}-body > ${t.iconCls}`]:{color:t.colorSuccess}}},ko=io(["Modal","confirm"],t=>{const n=gt(t);return[Yo(n)]},Ct,{order:-1e3});var Ko=function(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(e[o[r]]=t[o[r]]);return e};function xt(t){const{prefixCls:n,icon:e,okText:o,cancelText:r,confirmPrefixCls:i,type:c,okCancel:s,footer:a,locale:d}=t,u=Ko(t,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let f=e;if(!e&&e!==null)switch(c){case"info":f=l.createElement(uo,null);break;case"success":f=l.createElement(co,null);break;case"error":f=l.createElement(lo,null);break;default:f=l.createElement(so,null)}const m=s??c==="confirm",p=t.autoFocusButton===null?!1:t.autoFocusButton||"ok",[g]=_e("Modal"),h=d||g,v=o||(m?h==null?void 0:h.okText:h==null?void 0:h.justOkText),b=r||(h==null?void 0:h.cancelText),C=Object.assign({autoFocusButton:p,cancelTextLocale:b,okTextLocale:v,mergedOkCancel:m},u),P=l.useMemo(()=>C,q(Object.values(C))),y=l.createElement(l.Fragment,null,l.createElement(Le,null),l.createElement(Fe,null)),R=t.title!==void 0&&t.title!==null,S=`${i}-body`;return l.createElement("div",{className:`${i}-body-wrapper`},l.createElement("div",{className:I(S,{[`${S}-has-title`]:R})},f,l.createElement("div",{className:`${i}-paragraph`},R&&l.createElement("span",{className:`${i}-title`},t.title),l.createElement("div",{className:`${i}-content`},t.content))),a===void 0||typeof a=="function"?l.createElement(dt,{value:P},l.createElement("div",{className:`${i}-btns`},typeof a=="function"?a(y,{OkBtn:Fe,CancelBtn:Le}):y)):a,l.createElement(ko,{prefixCls:n}))}const Jo=t=>{const{close:n,zIndex:e,afterClose:o,open:r,keyboard:i,centered:c,getContainer:s,maskStyle:a,direction:d,prefixCls:u,wrapClassName:f,rootPrefixCls:m,bodyStyle:p,closable:g=!1,closeIcon:h,modalRender:v,focusTriggerAfterClose:b,onConfirm:C,styles:P}=t,y=`${u}-confirm`,R=t.width||416,S=t.style||{},E=t.mask===void 0?!0:t.mask,O=t.maskClosable===void 0?!1:t.maskClosable,$=I(y,`${y}-${t.type}`,{[`${y}-rtl`]:d==="rtl"},t.className),[,H]=fo(),w=l.useMemo(()=>e!==void 0?e:H.zIndexPopupBase+mo,[e,H]);return l.createElement(yt,{prefixCls:u,className:$,wrapClassName:I({[`${y}-centered`]:!!t.centered},f),onCancel:()=>{n==null||n({triggerCancel:!0}),C==null||C(!1)},open:r,title:"",footer:null,transitionName:me(m||"","zoom",t.transitionName),maskTransitionName:me(m||"","fade",t.maskTransitionName),mask:E,maskClosable:O,style:S,styles:Object.assign({body:p,mask:a},P),width:R,zIndex:w,afterClose:o,keyboard:i,centered:c,getContainer:s,closable:g,closeIcon:h,modalRender:v,focusTriggerAfterClose:b},l.createElement(xt,Object.assign({},t,{confirmPrefixCls:y})))},wt=t=>{const{rootPrefixCls:n,iconPrefixCls:e,direction:o,theme:r}=t;return l.createElement(ct,{prefixCls:n,iconPrefixCls:e,direction:o,theme:r},l.createElement(Jo,Object.assign({},t)))},K=[];let St="";function Et(){return St}const Qo=t=>{var n,e;const{prefixCls:o,getContainer:r,direction:i}=t,c=st(),s=l.useContext(he),a=Et()||s.getPrefixCls(),d=o||`${a}-modal`;let u=r;return u===!1&&(u=void 0),x.createElement(wt,Object.assign({},t,{rootPrefixCls:a,prefixCls:d,iconPrefixCls:s.iconPrefixCls,theme:s.theme,direction:i??s.direction,locale:(e=(n=s.locale)===null||n===void 0?void 0:n.Modal)!==null&&e!==void 0?e:c,getContainer:u}))};function re(t){const n=ho(),e=document.createDocumentFragment();let o=Object.assign(Object.assign({},t),{close:s,open:!0}),r;function i(){for(var d,u=arguments.length,f=new Array(u),m=0;m<u;m++)f[m]=arguments[m];if(f.some(h=>h==null?void 0:h.triggerCancel)){var g;(d=t.onCancel)===null||d===void 0||(g=d).call.apply(g,[t,()=>{}].concat(q(f.slice(1))))}for(let h=0;h<K.length;h++)if(K[h]===s){K.splice(h,1);break}po(e)}function c(d){clearTimeout(r),r=setTimeout(()=>{const u=n.getPrefixCls(void 0,Et()),f=n.getIconPrefixCls(),m=n.getTheme(),p=x.createElement(Qo,Object.assign({},d));vo(x.createElement(ct,{prefixCls:u,iconPrefixCls:f,theme:m},n.holderRender?n.holderRender(p):p),e)})}function s(){for(var d=arguments.length,u=new Array(d),f=0;f<d;f++)u[f]=arguments[f];o=Object.assign(Object.assign({},o),{open:!1,afterClose:()=>{typeof t.afterClose=="function"&&t.afterClose(),i.apply(this,u)}}),o.visible&&delete o.visible,c(o)}function a(d){typeof d=="function"?o=d(o):o=Object.assign(Object.assign({},o),d),c(o)}return c(o),K.push(s),{destroy:s,update:a}}function Pt(t){return Object.assign(Object.assign({},t),{type:"warning"})}function Rt(t){return Object.assign(Object.assign({},t),{type:"info"})}function Ot(t){return Object.assign(Object.assign({},t),{type:"success"})}function $t(t){return Object.assign(Object.assign({},t),{type:"error"})}function Mt(t){return Object.assign(Object.assign({},t),{type:"confirm"})}function en(t){let{rootPrefixCls:n}=t;St=n}var tn=function(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(e[o[r]]=t[o[r]]);return e};const on=(t,n)=>{var e,{afterClose:o,config:r}=t,i=tn(t,["afterClose","config"]);const[c,s]=l.useState(!0),[a,d]=l.useState(r),{direction:u,getPrefixCls:f}=l.useContext(he),m=f("modal"),p=f(),g=()=>{var C;o(),(C=a.afterClose)===null||C===void 0||C.call(a)},h=function(){var C;s(!1);for(var P=arguments.length,y=new Array(P),R=0;R<P;R++)y[R]=arguments[R];if(y.some(O=>O==null?void 0:O.triggerCancel)){var E;(C=a.onCancel)===null||C===void 0||(E=C).call.apply(E,[a,()=>{}].concat(q(y.slice(1))))}};l.useImperativeHandle(n,()=>({destroy:h,update:C=>{d(P=>Object.assign(Object.assign({},P),C))}}));const v=(e=a.okCancel)!==null&&e!==void 0?e:a.type==="confirm",[b]=_e("Modal",go.Modal);return l.createElement(wt,Object.assign({prefixCls:m,rootPrefixCls:p},a,{close:h,open:c,afterClose:g,okText:a.okText||(v?b==null?void 0:b.okText:b==null?void 0:b.justOkText),direction:a.direction||u,cancelText:a.cancelText||(b==null?void 0:b.cancelText)},i))},nn=l.forwardRef(on);let qe=0;const rn=l.memo(l.forwardRef((t,n)=>{const[e,o]=zo();return l.useImperativeHandle(n,()=>({patchElement:o}),[]),l.createElement(l.Fragment,null,e)}));function an(){const t=l.useRef(null),[n,e]=l.useState([]);l.useEffect(()=>{n.length&&(q(n).forEach(c=>{c()}),e([]))},[n]);const o=l.useCallback(i=>function(s){var a;qe+=1;const d=l.createRef();let u;const f=new Promise(v=>{u=v});let m=!1,p;const g=l.createElement(nn,{key:`modal-${qe}`,config:i(s),ref:d,afterClose:()=>{p==null||p()},isSilent:()=>m,onConfirm:v=>{u(v)}});return p=(a=t.current)===null||a===void 0?void 0:a.patchElement(g),p&&K.push(p),{destroy:()=>{function v(){var b;(b=d.current)===null||b===void 0||b.destroy()}d.current?v():e(b=>[].concat(q(b),[v]))},update:v=>{function b(){var C;(C=d.current)===null||C===void 0||C.update(v)}d.current?b():e(C=>[].concat(q(C),[b]))},then:v=>(m=!0,f.then(v))}},[]);return[l.useMemo(()=>({info:o(Rt),success:o(Ot),error:o($t),warning:o(Pt),confirm:o(Mt)}),[]),l.createElement(rn,{key:"modal-holder",ref:t})]}var sn=function(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(e[o[r]]=t[o[r]]);return e};const ln=t=>{const{prefixCls:n,className:e,closeIcon:o,closable:r,type:i,title:c,children:s,footer:a}=t,d=sn(t,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:u}=l.useContext(he),f=u(),m=n||u("modal"),p=lt(f),[g,h,v]=bt(m,p),b=`${m}-confirm`;let C={};return i?C={closable:r??!1,title:"",footer:"",children:l.createElement(xt,Object.assign({},t,{prefixCls:m,confirmPrefixCls:b,rootPrefixCls:f,content:s}))}:C={closable:r??!0,title:c,footer:a!==null&&l.createElement(vt,Object.assign({},t)),children:s},g(l.createElement(ft,Object.assign({prefixCls:m,className:I(h,`${m}-pure-panel`,i&&b,i&&`${b}-${i}`,e,v,p)},d,{closeIcon:pt(m,o),closable:r},C)))},cn=_o(ln);function Tt(t){return re(Pt(t))}const U=yt;U.useModal=an;U.info=function(n){return re(Rt(n))};U.success=function(n){return re(Ot(n))};U.error=function(n){return re($t(n))};U.warning=Tt;U.warn=Tt;U.confirm=function(n){return re(Mt(n))};U.destroyAll=function(){for(;K.length;){const n=K.pop();n&&n()}};U.config=en;U._InternalPanelDoNotUseOrYouWillBeFired=cn;var we=function(t,n){return we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])},we(t,n)};function dn(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");we(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var A=function(){return A=Object.assign||function(n){for(var e,o=1,r=arguments.length;o<r;o++){e=arguments[o];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},A.apply(this,arguments)};var Ye=!1,k,Se,Ee,de,ue,Nt,fe,Pe,Re,Oe,_t,$e,Me,Dt,It;function W(){if(!Ye){Ye=!0;var t=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),e=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if($e=/\b(iPhone|iP[ao]d)/.exec(t),Me=/\b(iP[ao]d)/.exec(t),Oe=/Android/i.exec(t),Dt=/FBAN\/\w+;/i.exec(t),It=/Mobile/i.exec(t),_t=!!/Win64/.exec(t),n){k=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,k&&document&&document.documentMode&&(k=document.documentMode);var o=/(?:Trident\/(\d+.\d+))/.exec(t);Nt=o?parseFloat(o[1])+4:k,Se=n[2]?parseFloat(n[2]):NaN,Ee=n[3]?parseFloat(n[3]):NaN,de=n[4]?parseFloat(n[4]):NaN,de?(n=/(?:Chrome\/(\d+\.\d+))/.exec(t),ue=n&&n[1]?parseFloat(n[1]):NaN):ue=NaN}else k=Se=Ee=ue=de=NaN;if(e){if(e[1]){var r=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);fe=r?parseFloat(r[1].replace("_",".")):!0}else fe=!1;Pe=!!e[2],Re=!!e[3]}else fe=Pe=Re=!1}}var Te={ie:function(){return W()||k},ieCompatibilityMode:function(){return W()||Nt>k},ie64:function(){return Te.ie()&&_t},firefox:function(){return W()||Se},opera:function(){return W()||Ee},webkit:function(){return W()||de},safari:function(){return Te.webkit()},chrome:function(){return W()||ue},windows:function(){return W()||Pe},osx:function(){return W()||fe},linux:function(){return W()||Re},iphone:function(){return W()||$e},mobile:function(){return W()||$e||Me||Oe||It},nativeApp:function(){return W()||Dt},android:function(){return W()||Oe},ipad:function(){return W()||Me}},un=Te,se=!!(typeof window<"u"&&window.document&&window.document.createElement),fn={canUseDOM:se,canUseWorkers:typeof Worker<"u",canUseEventListeners:se&&!!(window.addEventListener||window.attachEvent),canUseViewport:se&&!!window.screen,isInWorker:!se},mn=fn,zt=mn,jt;zt.canUseDOM&&(jt=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function hn(t,n){if(!zt.canUseDOM||n&&!("addEventListener"in document))return!1;var e="on"+t,o=e in document;if(!o){var r=document.createElement("div");r.setAttribute(e,"return;"),o=typeof r[e]=="function"}return!o&&jt&&t==="wheel"&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}var pn=hn,vn=un,gn=pn,ke=10,Ke=40,Je=800;function At(t){var n=0,e=0,o=0,r=0;return"detail"in t&&(e=t.detail),"wheelDelta"in t&&(e=-t.wheelDelta/120),"wheelDeltaY"in t&&(e=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(n=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(n=e,e=0),o=n*ke,r=e*ke,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(o=t.deltaX),(o||r)&&t.deltaMode&&(t.deltaMode==1?(o*=Ke,r*=Ke):(o*=Je,r*=Je)),o&&!n&&(n=o<1?-1:1),r&&!e&&(e=r<1?-1:1),{spinX:n,spinY:e,pixelX:o,pixelY:r}}At.getEventType=function(){return vn.firefox()?"DOMMouseScroll":gn("wheel")?"wheel":"mousewheel"};var Cn=At,bn=Cn;const yn=Co(bn);function xn(t,n,e,o,r,i){i===void 0&&(i=0);var c=ee(t,n,i),s=c.width,a=c.height,d=Math.min(s,e),u=Math.min(a,o);return d>u*r?{width:u*r,height:u}:{width:d,height:d/r}}function wn(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function le(t,n,e,o,r){r===void 0&&(r=0);var i=ee(n.width,n.height,r),c=i.width,s=i.height;return{x:Qe(t.x,c,e.width,o),y:Qe(t.y,s,e.height,o)}}function Qe(t,n,e,o){var r=n*o/2-e/2;return pe(t,-r,r)}function et(t,n){return Math.sqrt(Math.pow(t.y-n.y,2)+Math.pow(t.x-n.x,2))}function tt(t,n){return Math.atan2(n.y-t.y,n.x-t.x)*180/Math.PI}function Sn(t,n,e,o,r,i,c){i===void 0&&(i=0),c===void 0&&(c=!0);var s=c?En:Pn,a=ee(n.width,n.height,i),d=ee(n.naturalWidth,n.naturalHeight,i),u={x:s(100,((a.width-e.width/r)/2-t.x/r)/a.width*100),y:s(100,((a.height-e.height/r)/2-t.y/r)/a.height*100),width:s(100,e.width/a.width*100/r),height:s(100,e.height/a.height*100/r)},f=Math.round(s(d.width,u.width*d.width/100)),m=Math.round(s(d.height,u.height*d.height/100)),p=d.width>=d.height*o,g=p?{width:Math.round(m*o),height:m}:{width:f,height:Math.round(f/o)},h=A(A({},g),{x:Math.round(s(d.width-g.width,u.x*d.width/100)),y:Math.round(s(d.height-g.height,u.y*d.height/100))});return{croppedAreaPercentages:u,croppedAreaPixels:h}}function En(t,n){return Math.min(t,Math.max(0,n))}function Pn(t,n){return n}function Rn(t,n,e,o,r,i){var c=ee(n.width,n.height,e),s=pe(o.width/c.width*(100/t.width),r,i),a={x:s*c.width/2-o.width/2-c.width*s*(t.x/100),y:s*c.height/2-o.height/2-c.height*s*(t.y/100)};return{crop:a,zoom:s}}function On(t,n,e){var o=wn(n);return e.height>e.width?e.height/(t.height*o):e.width/(t.width*o)}function $n(t,n,e,o,r,i){e===void 0&&(e=0);var c=ee(n.naturalWidth,n.naturalHeight,e),s=pe(On(t,n,o),r,i),a=o.height>o.width?o.height/t.height:o.width/t.width,d={x:((c.width-t.width)/2-t.x)*a,y:((c.height-t.height)/2-t.y)*a};return{crop:d,zoom:s}}function ot(t,n){return{x:(n.x+t.x)/2,y:(n.y+t.y)/2}}function Mn(t){return t*Math.PI/180}function ee(t,n,e){var o=Mn(e);return{width:Math.abs(Math.cos(o)*t)+Math.abs(Math.sin(o)*n),height:Math.abs(Math.sin(o)*t)+Math.abs(Math.cos(o)*n)}}function pe(t,n,e){return Math.min(Math.max(t,n),e)}function ce(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var Tn=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Nn=1,_n=3,Dn=function(t){dn(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.imageRef=l.createRef(),e.videoRef=l.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var o=!0;e.resizeObserver=new window.ResizeObserver(function(r){if(o){o=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(o){return o.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturemove",e.onGestureMove),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var o=e.computeSizes();o&&(e.emitCropData(),e.setInitialCrop(o)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(o){if(e.props.initialCroppedAreaPercentages){var r=Rn(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,o,e.props.minZoom,e.props.maxZoom),i=r.crop,c=r.zoom;e.props.onCropChange(i),e.props.onZoomChange&&e.props.onZoomChange(c)}else if(e.props.initialCroppedAreaPixels){var s=$n(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,o,e.props.minZoom,e.props.maxZoom),i=s.crop,c=s.zoom;e.props.onCropChange(i),e.props.onZoomChange&&e.props.onZoomChange(c)}},e.computeSizes=function(){var o,r,i,c,s,a,d=e.imageRef.current||e.videoRef.current;if(d&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var u=e.containerRect.width/e.containerRect.height,f=((o=e.imageRef.current)===null||o===void 0?void 0:o.naturalWidth)||((r=e.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,m=((i=e.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((c=e.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,p=d.offsetWidth<f||d.offsetHeight<m,g=f/m,h=void 0;if(p)switch(e.state.mediaObjectFit){default:case"contain":h=u>g?{width:e.containerRect.height*g,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/g};break;case"horizontal-cover":h={width:e.containerRect.width,height:e.containerRect.width/g};break;case"vertical-cover":h={width:e.containerRect.height*g,height:e.containerRect.height};break}else h={width:d.offsetWidth,height:d.offsetHeight};e.mediaSize=A(A({},h),{naturalWidth:f,naturalHeight:m}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var v=e.props.cropSize?e.props.cropSize:xn(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((s=e.state.cropSize)===null||s===void 0?void 0:s.height)!==v.height||((a=e.state.cropSize)===null||a===void 0?void 0:a.width)!==v.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(v),e.setState({cropSize:v},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(v),v}},e.saveContainerPosition=function(){if(e.containerRef){var o=e.containerRef.getBoundingClientRect();e.containerPosition={x:o.left,y:o.top}}},e.onMouseDown=function(o){e.currentDoc&&(o.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(n.getMousePoint(o)))},e.onMouseMove=function(o){return e.onDrag(n.getMousePoint(o))},e.onScroll=function(o){e.currentDoc&&(o.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(o){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(o))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),o.touches.length===2?e.onPinchStart(o):o.touches.length===1&&e.onDragStart(n.getTouchPoint(o.touches[0]))))},e.onTouchMove=function(o){o.preventDefault(),o.touches.length===2?e.onPinchMove(o):o.touches.length===1&&e.onDrag(n.getTouchPoint(o.touches[0]))},e.onGestureStart=function(o){e.currentDoc&&(o.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureMove),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureMove=function(o){if(o.preventDefault(),!e.isTouching){var r=n.getMousePoint(o),i=e.gestureZoomStart-1+o.scale;if(e.setNewZoom(i,r,{shouldUpdatePosition:!0}),e.props.onRotationChange){var c=e.gestureRotationStart+o.rotation;e.props.onRotationChange(c)}}},e.onGestureEnd=function(o){e.cleanEvents()},e.onDragStart=function(o){var r,i,c=o.x,s=o.y;e.dragStartPosition={x:c,y:s},e.dragStartCrop=A({},e.props.crop),(i=(r=e.props).onInteractionStart)===null||i===void 0||i.call(r)},e.onDrag=function(o){var r=o.x,i=o.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(r===void 0||i===void 0)){var c=r-e.dragStartPosition.x,s=i-e.dragStartPosition.y,a={x:e.dragStartCrop.x+c,y:e.dragStartCrop.y+s},d=e.props.restrictPosition?le(a,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):a;e.props.onCropChange(d)}}))},e.onDragStopped=function(){var o,r;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(r=(o=e.props).onInteractionEnd)===null||r===void 0||r.call(o)},e.onWheel=function(o){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(o))){o.preventDefault();var r=n.getMousePoint(o),i=yn(o).pixelY,c=e.props.zoom-i*e.props.zoomSpeed/200;e.setNewZoom(c,r,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var s,a;return(a=(s=e.props).onInteractionStart)===null||a===void 0?void 0:a.call(s)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var s,a;return(a=(s=e.props).onInteractionEnd)===null||a===void 0?void 0:a.call(s)})},250)}},e.getPointOnContainer=function(o,r){var i=o.x,c=o.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(i-r.x),y:e.containerRect.height/2-(c-r.y)}},e.getPointOnMedia=function(o){var r=o.x,i=o.y,c=e.props,s=c.crop,a=c.zoom;return{x:(r+s.x)/a,y:(i+s.y)/a}},e.setNewZoom=function(o,r,i){var c=i===void 0?{}:i,s=c.shouldUpdatePosition,a=s===void 0?!0:s;if(!(!e.state.cropSize||!e.props.onZoomChange)){var d=pe(o,e.props.minZoom,e.props.maxZoom);if(a){var u=e.getPointOnContainer(r,e.containerPosition),f=e.getPointOnMedia(u),m={x:f.x*d-u.x,y:f.y*d-u.y},p=e.props.restrictPosition?le(m,e.mediaSize,e.state.cropSize,d,e.props.rotation):m;e.props.onCropChange(p)}e.props.onZoomChange(d)}},e.getCropData=function(){if(!e.state.cropSize)return null;var o=e.props.restrictPosition?le(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return Sn(o,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var o=e.getCropData();if(o){var r=o.croppedAreaPercentages,i=o.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(r,i),e.props.onCropAreaChange&&e.props.onCropAreaChange(r,i)}},e.emitCropAreaChange=function(){var o=e.getCropData();if(o){var r=o.croppedAreaPercentages,i=o.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(r,i)}},e.recomputeCropPosition=function(){if(e.state.cropSize){var o=e.props.restrictPosition?le(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(o),e.emitCropData()}},e}return n.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Tn,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},n.prototype.componentWillUnmount=function(){var e,o;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((o=this.styleRef.parentNode)===null||o===void 0||o.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},n.prototype.componentDidUpdate=function(e){var o,r,i,c,s,a,d,u,f;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((o=e.cropSize)===null||o===void 0?void 0:o.height)!==((r=this.props.cropSize)===null||r===void 0?void 0:r.height)||((i=e.cropSize)===null||i===void 0?void 0:i.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((s=e.crop)===null||s===void 0?void 0:s.x)!==((a=this.props.crop)===null||a===void 0?void 0:a.x)||((d=e.crop)===null||d===void 0?void 0:d.y)!==((u=this.props.crop)===null||u===void 0?void 0:u.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((f=this.videoRef.current)===null||f===void 0||f.load());var m=this.getObjectFit();m!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:m},this.computeSizes)},n.prototype.getAspect=function(){var e=this.props,o=e.cropSize,r=e.aspect;return o?o.width/o.height:r},n.prototype.getObjectFit=function(){var e,o,r,i;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var s=this.containerRect.width/this.containerRect.height,a=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((o=this.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,d=((r=this.imageRef.current)===null||r===void 0?void 0:r.naturalHeight)||((i=this.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,u=a/d;return u<s?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},n.prototype.onPinchStart=function(e){var o=n.getTouchPoint(e.touches[0]),r=n.getTouchPoint(e.touches[1]);this.lastPinchDistance=et(o,r),this.lastPinchRotation=tt(o,r),this.onDragStart(ot(o,r))},n.prototype.onPinchMove=function(e){var o=this;if(!(!this.currentDoc||!this.currentWindow)){var r=n.getTouchPoint(e.touches[0]),i=n.getTouchPoint(e.touches[1]),c=ot(r,i);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var s=et(r,i),a=o.props.zoom*(s/o.lastPinchDistance);o.setNewZoom(a,c,{shouldUpdatePosition:!1}),o.lastPinchDistance=s;var d=tt(r,i),u=o.props.rotation+(d-o.lastPinchRotation);o.props.onRotationChange&&o.props.onRotationChange(u),o.lastPinchRotation=d})}},n.prototype.render=function(){var e=this,o,r=this.props,i=r.image,c=r.video,s=r.mediaProps,a=r.transform,d=r.crop,u=d.x,f=d.y,m=r.rotation,p=r.zoom,g=r.cropShape,h=r.showGrid,v=r.style,b=v.containerStyle,C=v.cropAreaStyle,P=v.mediaStyle,y=r.classes,R=y.containerClassName,S=y.cropAreaClassName,E=y.mediaClassName,O=(o=this.state.mediaObjectFit)!==null&&o!==void 0?o:this.getObjectFit();return l.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(H){return e.containerRef=H},"data-testid":"container",style:b,className:ce("reactEasyCrop_Container",R)},i?l.createElement("img",A({alt:"",className:ce("reactEasyCrop_Image",O==="contain"&&"reactEasyCrop_Contain",O==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",O==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",E)},s,{src:i,ref:this.imageRef,style:A(A({},P),{transform:a||"translate(".concat(u,"px, ").concat(f,"px) rotate(").concat(m,"deg) scale(").concat(p,")")}),onLoad:this.onMediaLoad})):c&&l.createElement("video",A({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:ce("reactEasyCrop_Video",O==="contain"&&"reactEasyCrop_Contain",O==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",O==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",E)},s,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:A(A({},P),{transform:a||"translate(".concat(u,"px, ").concat(f,"px) rotate(").concat(m,"deg) scale(").concat(p,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function($){return l.createElement("source",A({key:$.src},$))})),this.state.cropSize&&l.createElement("div",{style:A(A({},C),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:ce("reactEasyCrop_CropArea",g==="round"&&"reactEasyCrop_CropAreaRound",h&&"reactEasyCrop_CropAreaGrid",S)}))},n.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:_n,minZoom:Nn,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},n.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n}(l.Component);const In=async(t,n)=>new Promise(e=>{const o=new Image;o.src=t,o.onload=()=>{const r=document.createElement("canvas"),i=r.getContext("2d");r.width=n.width,r.height=n.height,i.drawImage(o,n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.toBlob(c=>{e(c)},"image/png")}}),Wn=()=>{const[t]=Q.useForm(),n=bo(),e=yo(),o=xo(w=>w.user.userInfo.data),r=o==null?void 0:o.id,i=/^(([^<>()\[\]\\.,:\s@"]+(\.[^<>()\[\]\\.,:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,c=/^[\S]{1,10}$/,[s,a]=l.useState([]),[d,u]=l.useState(!1),[f,m]=l.useState(null),[p,g]=l.useState({x:0,y:0}),[h,v]=l.useState(1),[b,C]=l.useState(null),[P,y]=l.useState([]),R=async w=>{const{nickname:M,email:L}=w,_=s.map(F=>F.response?F.response.url[0]:F),z={id:o==null?void 0:o.id,nickname:M,email:L},Z={id:o==null?void 0:o.id,avatar:_};P.forEach(async F=>{const G=F.replace(/^http:\/\/127\.0\.0\.1:3007/,"");await To({url:G})}),await Po(z),await Ro(Z),ye.success("Update successful!"),n("/")},S=w=>{const M=w.file;return M&&M instanceof File?(m(URL.createObjectURL(M)),u(!0),!1):ye.error("Something went wrong!")},E=(w,M)=>{C(M)},O=()=>{u(!1)},$=async()=>{if(b){const w=await In(f,b);a([w]),u(!1),m(null),C(null);const M=new File([w],"cropped-image.png",{type:"image/png"});if(M&&M instanceof File){const L=new FormData;L.append("avatar",M);const z=(await No(L)).data.url;a(z.map(Z=>Z))}else ye.error("No file!")}},H=w=>{const M=w.url;y([...P,M]),a([])};return l.useEffect(()=>{async function w(){const L=(await Oo()).data.data;t.setFieldsValue({...L});const _=JSON.parse(L.avatar);a(_.map(z=>z))}w()},[r,t]),N.jsx(wo,{title:N.jsx(Do,{items:[{title:N.jsx(So,{to:"/",children:"Home"})},{title:"My information"}]}),style:{marginBottom:20},children:N.jsxs(Q,{labelCol:{span:4},wrapperCol:{span:16},form:t,onFinish:R,children:[N.jsx(Q.Item,{name:"avatar",label:"Avatar ",children:N.jsx(Mo,{name:"avatar",action:"http://127.0.0.1:3007/public/avatar",headers:{Authorization:`${e}`},customRequest:S,onRemove:H,listType:"picture-card",showUploadList:!0,maxCount:1,fileList:s.map(w=>({uid:w.name,name:w.name,status:"done",url:w.url?`http://127.0.0.1:3007${w.url}`:URL.createObjectURL(w)})),children:s.length<1&&N.jsx("div",{style:{marginTop:8},children:N.jsx(Eo,{})})})}),N.jsx(U,{title:"Crop Avatar",open:d,footer:null,onCancel:O,style:{height:"600px",width:"450px"},children:f&&N.jsxs("div",{style:{position:"relative",height:"400px",width:"100%",marginBottom:"30px"},children:[N.jsx(Dn,{image:f,crop:p,zoom:h,aspect:1,onCropChange:g,onZoomChange:v,onCropComplete:E}),N.jsx(oe,{type:"primary",onClick:$,style:{marginTop:"410px",marginLeft:"180px"},children:"Crop Avatar"})]})}),N.jsx(Q.Item,{label:"Nickname",name:"nickname",rules:[{pattern:c,message:"Please input valid nickname!"}],children:N.jsx(Ae,{placeholder:"Add your nickname here",style:{width:300}})}),N.jsx(Q.Item,{label:"Email",name:"email",rules:[{pattern:i,message:"Please input valid email!"}],children:N.jsx(Ae,{placeholder:"Add your email here",style:{width:300}})}),N.jsxs(Q.Item,{wrapperCol:{offset:4},children:[N.jsx(oe,{type:"primary",htmlType:"submit",children:"Save"}),N.jsx(oe,{style:{marginLeft:8},onClick:()=>n("/"),children:"Cancel"})]})]})})};export{Wn as default};
//# sourceMappingURL=index-C-RpK5Rf.js.map
